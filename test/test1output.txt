Welcome to the Geth JavaScript console!

instance: Geth/v1.6.0-unstable-f3579f64/darwin/go1.8
coinbase: 0x000d1009bd8f0b1301cc5edc28ed1222a3ce671e
at block: 0 (Thu, 01 Jan 1970 10:00:00 AEST)
 datadir: /Users/bok/Projects/BARF/test/testchain
 modules: admin:1.0 debug:1.0 eth:1.0 miner:1.0 net:1.0 personal:1.0 rpc:1.0 txpool:1.0 web3:1.0

> 
true
> 
undefined
> 
RESULT: # Account                                                   EtherBalance                TokenBalance Name
RESULT: 1 0x000d1009bd8f0b1301cc5edc28ed1222a3ce671e   100000.000000000000000000        0.000000000000000000 Account #0 - Miner
RESULT: 2 0x0014060ff383c9b21c6840a3b14aab06741e5c49   100000.000000000000000000        0.000000000000000000 Account #1 - BARF Owner
RESULT: 3 0x0020017ba4c67f76c76b1af8c41821ee54f37171   100000.000000000000000000        0.000000000000000000 Account #2 - Member #1
RESULT: 4 0x0036f6addb6d64684390f55a92f0f4988266901b   100000.000000000000000000        0.000000000000000000 Account #3 - Member #2
RESULT: 5 0x004e64833635cd1056b948b57286b7c91e62731c   100000.000000000000000000        0.000000000000000000 Account #4 - Member #3
RESULT: 6 0x0055fbc1ada89056088c75eaf50400af6756ae61   100000.000000000000000000        0.000000000000000000 Account #5 - Member #4
RESULT: 7 0x006b2baf3000413d83d257086fd3434a109aa552   100000.000000000000000000        0.000000000000000000 Account #6 - Member #5
undefined
> 
> 
undefined
> 
true
> 
undefined
> 
> 
undefined
> 
----------v barfCompiled v----------
undefined
> 
{
  <stdin>:BokkyPooBahsAutonomousRefundathonFacility: {
    code: "0x60606040526000600155341561001157fe5b5b5b60008054600160a060020a03191633600160a060020a03161790555b426004555b5b610c7b806100446000396000f300606060405236156100f65763ffffffff60e060020a60003504166306fdde038114610107578063095ea7b31461019757806318160ddd146101ca57806323b872dd146101ec57806323c94353146101ca578063313ce5671461024757806333f707d11461026d5780634b7503341461028257806370a08231146102a45780638620410b146102d25780638da5cb5b146102f457806395d89b411461032057806399fca937146103b0578063a9059cbb146103d2578063c2a4923714610405578063cf58a0451461041a578063d5a5825d14610424578063dd62ed3e14610446578063eae4c19f1461047a578063f2fde38b1461049c575b6101055b6101026104ba565b5b565b005b341561010f57fe5b610117610577565b60408051602080825283518183015283519192839290830191850190808383821561015d575b80518252602083111561015d57601f19909201916020918201910161013d565b505050905090810190601f1680156101895780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b341561019f57fe5b6101b6600160a060020a03600435166024356105d7565b604080519115158252519081900360200190f35b34156101d257fe5b6101da610642565b60408051918252519081900360200190f35b34156101f457fe5b6101b6600160a060020a0360043581169060243516604435610649565b604080519115158252519081900360200190f35b34156101d257fe5b6101da610642565b60408051918252519081900360200190f35b341561024f57fe5b61025761076a565b6040805160ff9092168252519081900360200190f35b341561027557fe5b61010560043561076f565b005b341561028a57fe5b6101da610816565b60408051918252519081900360200190f35b34156102ac57fe5b6101da600160a060020a0360043516610822565b60408051918252519081900360200190f35b34156102da57fe5b6101da610841565b60408051918252519081900360200190f35b34156102fc57fe5b610304610919565b60408051600160a060020a039092168252519081900360200190f35b341561032857fe5b610117610928565b60408051602080825283518183015283519192839290830191850190808383821561015d575b80518252602083111561015d57601f19909201916020918201910161013d565b505050905090810190601f1680156101895780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34156103b857fe5b6101da61095f565b60408051918252519081900360200190f35b34156103da57fe5b6101b6600160a060020a03600435166024356109ab565b604080519115158252519081900360200190f35b341561040d57fe5b610105600435610a7c565b005b6101056104ba565b005b341561042c57fe5b6101da610b8c565b60408051918252519081900360200190f35b341561044e57fe5b6101da600160a060020a0360043581169060243516610b9b565b60408051918252519081900360200190f35b341561048257fe5b6101da610bc8565b60408051918252519081900360200190f35b34156104a457fe5b610105600160a060020a0360043516610bce565b005b60006000341115610573576104cd610841565b34670de0b6b3a7640000028115156104e157fe5b60018054929091049182018155600160a060020a033381166000818152600260205260409020805485019055915492935090917f7ebaaa60929cfd51231b695d35d242b2d0fd46b640b5b6658db3d8a3f2a660f49134913090911631908590610548610841565b6040805195865260208601949094528484019290925260608401526080830152519081900360a00190a25b5b50565b606060405190810160405280602b81526020017f426f6b6b79506f6f426168204175746f6e6f6d6f757320526566756e6461746881526020017f6f6e20466163696c69747900000000000000000000000000000000000000000081525081565b600160a060020a03338116600081815260036020908152604080832094871680845294825280832086905580518681529051929493927f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925929181900390910190a35060015b92915050565b6001545b90565b600160a060020a0383166000908152600260205260408120548290108015906106995750600160a060020a0380851660009081526003602090815260408083203390941683529290522054829010155b80156106a55750600082115b80156106ca5750600160a060020a038316600090815260026020526040902054828101115b1561075757600160a060020a03808516600081815260026020818152604080842080548990039055600382528084203387168552825280842080548990039055948816808452918152918490208054870190558351868152935190937fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef92908290030190a350600161075b565b5060005b5b9392505050565b6001545b90565b601281565b6000805433600160a060020a0390811691161461078b57610000565b61079361095f565b9050808211156107a1578091505b60008054604051600160a060020a039091169184156108fc02918591818181858888f1935050505015156107d457610000565b60408051838152838303602082015281517f0c875c8d391179c5cf7ad8303d268efd50b8beb78b671f85cd54bfb91eb8ef40929181900390910190a15b5b5050565b662386f26fc100005b90565b600160a060020a0381166000908152600260205260409020545b919050565b60006358e9ec9542101561085d5750662386f26fc10000610646565b6358e9ecd1421015610877575066470de4df820000610646565b6358e9ecd14210156108915750668e1bc9bf040000610646565b6358e9ecd14210156108ab575066d529ae9e860000610646565b6358e9ecd14210156108c6575067011c37937e080000610646565b6358e9ecd14210156108e15750678ac7230489e80000610646565b6358e9ed0d4210156108fe575069021e19e0c9bab2400000610646565b5069d3c21bcecceda1000000610646565b5b5b5b5b5b5b5b90565b600054600160a060020a031681565b60408051808201909152600481527f4241524600000000000000000000000000000000000000000000000000000000602082015281565b6000600160a060020a0330163181670de0b6b3a764000061097e610816565b6001540281151561098b57fe5b049050808211156109a05780820392506109a5565b600092505b5b505090565b600160a060020a0333166000908152600260205260408120548290108015906109d45750600082115b80156109f95750600160a060020a038316600090815260026020526040902054828101115b15610a6d57600160a060020a03338116600081815260026020908152604080832080548890039055938716808352918490208054870190558351868152935191937fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef929081900390910190a350600161063c565b50600061063c565b5b92915050565b600160a060020a033316600090815260026020526040812054821115610aa157610000565b600160a060020a033316600090815260026020526040902080548390039055600180548390039055670de0b6b3a7640000610ada610816565b8302811515610ae557fe5b6040519190049150600160a060020a0333169082156108fc029083906000818181858888f193505050501515610b1a57610000565b33600160a060020a03167f0a720fa9237cbb72e6714e66371cd3ba41acfb5d9a13e46f3979b1d0646f25728230600160a060020a03163185600154610b5d610816565b6040805195865260208601949094528484019290925260608401526080830152519081900360a00190a25b5050565b600160a060020a033016315b90565b600160a060020a038083166000908152600360209081526040808320938516835292905220545b92915050565b60045481565b60005433600160a060020a03908116911614610be957610000565b60008054604051600160a060020a03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a36000805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0383161790555b5b505600a165627a7a72305820f68ab2420783d5b0d581b4d664a161f64aced9b8b90833d2117fd6c7176cd6a60029",
    info: {
      abiDefinition: [{...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}],
      compilerOptions: "--combined-json bin,abi,userdoc,devdoc --add-std --optimize",
      compilerVersion: "0.4.9",
      developerDoc: {
        methods: {}
      },
      language: "Solidity",
      languageVersion: "0.4.9",
      source: "pragma solidity ^0.4.8;contract Owned { address public owner; event OwnershipTransferred(address indexed _from, address indexed _to); function Owned() { owner = msg.sender; } modifier onlyOwner { if (msg.sender != owner) throw; _; } function transferOwnership(address newOwner) onlyOwner { OwnershipTransferred(owner, newOwner); owner = newOwner; }}contract ERC20Token is Owned { uint256 _totalSupply = 0; mapping(address => uint256) balances; mapping(address => mapping (address => uint256)) allowed; function totalSupply() constant returns (uint256 totalSupply) { totalSupply = _totalSupply; } function balanceOf(address _owner) constant returns (uint256 balance) { return balances[_owner]; } function transfer(address _to, uint256 _amount) returns (bool success) { if (balances[msg.sender] >= _amount && _amount > 0 && balances[_to] + _amount > balances[_to]) { balances[msg.sender] -= _amount; balances[_to] += _amount; Transfer(msg.sender, _to, _amount); return true; } else { return false; } } function approve(address _spender, uint256 _amount) returns (bool success) { allowed[msg.sender][_spender] = _amount; Approval(msg.sender, _spender, _amount); return true; } function transferFrom( address _from, address _to, uint256 _amount ) returns (bool success) { if (balances[_from] >= _amount && allowed[_from][msg.sender] >= _amount && _amount > 0 && balances[_to] + _amount > balances[_to]) { balances[_from] -= _amount; allowed[_from][msg.sender] -= _amount; balances[_to] += _amount; Transfer(_from, _to, _amount); return true; } else { return false; } } function allowance(address _owner, address _spender) constant returns (uint256 remaining) { return allowed[_owner][_spender]; } event Transfer(address indexed _from, address indexed _to, uint256 _value); event Approval(address indexed _owner, address indexed _spender, uint256 _value);}contract BokkyPooBahsAutonomousRefundathonFacility is ERC20Token { string public constant symbol = \"BARF\"; string public constant name = \"BokkyPooBah Autonomous Refundathon Facility\"; uint8 public constant decimals = 18; uint256 public deployedAt; function BokkyPooBahsAutonomousRefundathonFacility() { deployedAt = now; } function buyPrice() constant returns (uint256) { if (now < 1491725461) { return 1 * 10**16; } else if (now < 1491725521) { return 2 * 10**16; } else if (now < 1491725521) { return 4 * 10**16; } else if (now < 1491725521) { return 6 * 10**16; } else if (now < 1491725521) { return 8 * 10**16; } else if (now < 1491725521) { return 1 * 10**19; } else if (now < 1491725581) { return 1 * 10**22; } else { return 1 * 10**24; } } function sellPrice() constant returns (uint256) { return 10**16; } function amountOfEthersOwnerCanWithdraw() constant returns (uint256) { uint256 etherBalance = this.balance; uint256 ethersSupportingTokens = _totalSupply * sellPrice() / 1 ether; if (etherBalance > ethersSupportingTokens) { return etherBalance - ethersSupportingTokens; } else { return 0; } } function ownerWithdraw(uint256 amount) onlyOwner { uint256 maxWithdrawalAmount = amountOfEthersOwnerCanWithdraw(); if (amount > maxWithdrawalAmount) { amount = maxWithdrawalAmount; } if (!owner.send(amount)) throw; Withdrawn(amount, maxWithdrawalAmount - amount); } event Withdrawn(uint256 amount, uint256 remainingWithdrawal); function () payable { memberBuyToken(); } function memberBuyToken() payable { if (msg.value > 0) { uint tokens = msg.value * 1 ether / buyPrice(); _totalSupply += tokens; balances[msg.sender] += tokens; MemberBoughtToken(msg.sender, msg.value, this.balance, tokens, _totalSupply, buyPrice()); } } event MemberBoughtToken(address indexed buyer, uint256 ethers, uint256 newEtherBalance, uint256 tokens, uint256 newTotalSupply, uint256 buyPrice); function memberSellToken(uint256 amountOfTokens) { if (amountOfTokens > balances[msg.sender]) throw; balances[msg.sender] -= amountOfTokens; _totalSupply -= amountOfTokens; uint256 ethersToSend = amountOfTokens * sellPrice() / 1 ether; if (!msg.sender.send(ethersToSend)) throw; MemberSoldToken(msg.sender, ethersToSend, this.balance, amountOfTokens, _totalSupply, sellPrice()); } event MemberSoldToken(address indexed seller, uint256 ethers, uint256 newEtherBalance, uint256 tokens, uint256 newTotalSupply, uint256 sellPrice); function currentEtherBalance() constant returns (uint256) { return this.balance; } function currentTokenBalance() constant returns (uint256) { return _totalSupply; }}",
      userDoc: {
        methods: {}
      }
    }
  },
  <stdin>:ERC20Token: {
    code: "0x606060405260006001555b60008054600160a060020a03191633600160a060020a03161790555b5b610546806100366000396000f300606060405236156100725763ffffffff60e060020a600035041663095ea7b3811461007457806318160ddd146100a757806323b872dd146100c957806370a08231146101025780638da5cb5b14610130578063a9059cbb1461015c578063dd62ed3e1461018f578063f2fde38b146101c3575bfe5b341561007c57fe5b610093600160a060020a03600435166024356101e1565b604080519115158252519081900360200190f35b34156100af57fe5b6100b761024c565b60408051918252519081900360200190f35b34156100d157fe5b610093600160a060020a0360043581169060243516604435610253565b604080519115158252519081900360200190f35b341561010a57fe5b6100b7600160a060020a036004351661036d565b60408051918252519081900360200190f35b341561013857fe5b61014061038c565b60408051600160a060020a039092168252519081900360200190f35b341561016457fe5b610093600160a060020a036004351660243561039b565b604080519115158252519081900360200190f35b341561019757fe5b6100b7600160a060020a036004358116906024351661046c565b60408051918252519081900360200190f35b34156101cb57fe5b6101df600160a060020a0360043516610499565b005b600160a060020a03338116600081815260036020908152604080832094871680845294825280832086905580518681529051929493927f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925929181900390910190a35060015b92915050565b6001545b90565b600160a060020a0383166000908152600260205260408120548290108015906102a35750600160a060020a0380851660009081526003602090815260408083203390941683529290522054829010155b80156102af5750600082115b80156102d45750600160a060020a038316600090815260026020526040902054828101115b1561036157600160a060020a03808516600081815260026020818152604080842080548990039055600382528084203387168552825280842080548990039055948816808452918152918490208054870190558351868152935190937fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef92908290030190a3506001610365565b5060005b5b9392505050565b600160a060020a0381166000908152600260205260409020545b919050565b600054600160a060020a031681565b600160a060020a0333166000908152600260205260408120548290108015906103c45750600082115b80156103e95750600160a060020a038316600090815260026020526040902054828101115b1561045d57600160a060020a03338116600081815260026020908152604080832080548890039055938716808352918490208054870190558351868152935191937fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef929081900390910190a3506001610246565b506000610246565b5b92915050565b600160a060020a038083166000908152600360209081526040808320938516835292905220545b92915050565b60005433600160a060020a039081169116146104b457610000565b60008054604051600160a060020a03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a36000805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0383161790555b5b505600a165627a7a72305820f63b7e860f2462844fbb7eb7480eeb288a8405f11861b6b9b6064cb3a0e1cf910029",
    info: {
      abiDefinition: [{...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}],
      compilerOptions: "--combined-json bin,abi,userdoc,devdoc --add-std --optimize",
      compilerVersion: "0.4.9",
      developerDoc: {
        methods: {}
      },
      language: "Solidity",
      languageVersion: "0.4.9",
      source: "pragma solidity ^0.4.8;contract Owned { address public owner; event OwnershipTransferred(address indexed _from, address indexed _to); function Owned() { owner = msg.sender; } modifier onlyOwner { if (msg.sender != owner) throw; _; } function transferOwnership(address newOwner) onlyOwner { OwnershipTransferred(owner, newOwner); owner = newOwner; }}contract ERC20Token is Owned { uint256 _totalSupply = 0; mapping(address => uint256) balances; mapping(address => mapping (address => uint256)) allowed; function totalSupply() constant returns (uint256 totalSupply) { totalSupply = _totalSupply; } function balanceOf(address _owner) constant returns (uint256 balance) { return balances[_owner]; } function transfer(address _to, uint256 _amount) returns (bool success) { if (balances[msg.sender] >= _amount && _amount > 0 && balances[_to] + _amount > balances[_to]) { balances[msg.sender] -= _amount; balances[_to] += _amount; Transfer(msg.sender, _to, _amount); return true; } else { return false; } } function approve(address _spender, uint256 _amount) returns (bool success) { allowed[msg.sender][_spender] = _amount; Approval(msg.sender, _spender, _amount); return true; } function transferFrom( address _from, address _to, uint256 _amount ) returns (bool success) { if (balances[_from] >= _amount && allowed[_from][msg.sender] >= _amount && _amount > 0 && balances[_to] + _amount > balances[_to]) { balances[_from] -= _amount; allowed[_from][msg.sender] -= _amount; balances[_to] += _amount; Transfer(_from, _to, _amount); return true; } else { return false; } } function allowance(address _owner, address _spender) constant returns (uint256 remaining) { return allowed[_owner][_spender]; } event Transfer(address indexed _from, address indexed _to, uint256 _value); event Approval(address indexed _owner, address indexed _spender, uint256 _value);}contract BokkyPooBahsAutonomousRefundathonFacility is ERC20Token { string public constant symbol = \"BARF\"; string public constant name = \"BokkyPooBah Autonomous Refundathon Facility\"; uint8 public constant decimals = 18; uint256 public deployedAt; function BokkyPooBahsAutonomousRefundathonFacility() { deployedAt = now; } function buyPrice() constant returns (uint256) { if (now < 1491725461) { return 1 * 10**16; } else if (now < 1491725521) { return 2 * 10**16; } else if (now < 1491725521) { return 4 * 10**16; } else if (now < 1491725521) { return 6 * 10**16; } else if (now < 1491725521) { return 8 * 10**16; } else if (now < 1491725521) { return 1 * 10**19; } else if (now < 1491725581) { return 1 * 10**22; } else { return 1 * 10**24; } } function sellPrice() constant returns (uint256) { return 10**16; } function amountOfEthersOwnerCanWithdraw() constant returns (uint256) { uint256 etherBalance = this.balance; uint256 ethersSupportingTokens = _totalSupply * sellPrice() / 1 ether; if (etherBalance > ethersSupportingTokens) { return etherBalance - ethersSupportingTokens; } else { return 0; } } function ownerWithdraw(uint256 amount) onlyOwner { uint256 maxWithdrawalAmount = amountOfEthersOwnerCanWithdraw(); if (amount > maxWithdrawalAmount) { amount = maxWithdrawalAmount; } if (!owner.send(amount)) throw; Withdrawn(amount, maxWithdrawalAmount - amount); } event Withdrawn(uint256 amount, uint256 remainingWithdrawal); function () payable { memberBuyToken(); } function memberBuyToken() payable { if (msg.value > 0) { uint tokens = msg.value * 1 ether / buyPrice(); _totalSupply += tokens; balances[msg.sender] += tokens; MemberBoughtToken(msg.sender, msg.value, this.balance, tokens, _totalSupply, buyPrice()); } } event MemberBoughtToken(address indexed buyer, uint256 ethers, uint256 newEtherBalance, uint256 tokens, uint256 newTotalSupply, uint256 buyPrice); function memberSellToken(uint256 amountOfTokens) { if (amountOfTokens > balances[msg.sender]) throw; balances[msg.sender] -= amountOfTokens; _totalSupply -= amountOfTokens; uint256 ethersToSend = amountOfTokens * sellPrice() / 1 ether; if (!msg.sender.send(ethersToSend)) throw; MemberSoldToken(msg.sender, ethersToSend, this.balance, amountOfTokens, _totalSupply, sellPrice()); } event MemberSoldToken(address indexed seller, uint256 ethers, uint256 newEtherBalance, uint256 tokens, uint256 newTotalSupply, uint256 sellPrice); function currentEtherBalance() constant returns (uint256) { return this.balance; } function currentTokenBalance() constant returns (uint256) { return _totalSupply; }}",
      userDoc: {
        methods: {}
      }
    }
  },
  <stdin>:Owned: {
    code: "0x6060604052341561000c57fe5b5b60008054600160a060020a03191633600160a060020a03161790555b5b610128806100396000396000f300606060405263ffffffff60e060020a6000350416638da5cb5b8114602a578063f2fde38b146053575bfe5b3415603157fe5b6037606e565b60408051600160a060020a039092168252519081900360200190f35b3415605a57fe5b606c600160a060020a0360043516607d565b005b600054600160a060020a031681565b60005433600160a060020a039081169116146096576000565b60008054604051600160a060020a03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a36000805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0383161790555b5b505600a165627a7a72305820d28b82a96ad9bc2a39b2d2eeb0c9884035694f8f557796915b1394228bf5e6980029",
    info: {
      abiDefinition: [{...}, {...}, {...}, {...}],
      compilerOptions: "--combined-json bin,abi,userdoc,devdoc --add-std --optimize",
      compilerVersion: "0.4.9",
      developerDoc: {
        methods: {}
      },
      language: "Solidity",
      languageVersion: "0.4.9",
      source: "pragma solidity ^0.4.8;contract Owned { address public owner; event OwnershipTransferred(address indexed _from, address indexed _to); function Owned() { owner = msg.sender; } modifier onlyOwner { if (msg.sender != owner) throw; _; } function transferOwnership(address newOwner) onlyOwner { OwnershipTransferred(owner, newOwner); owner = newOwner; }}contract ERC20Token is Owned { uint256 _totalSupply = 0; mapping(address => uint256) balances; mapping(address => mapping (address => uint256)) allowed; function totalSupply() constant returns (uint256 totalSupply) { totalSupply = _totalSupply; } function balanceOf(address _owner) constant returns (uint256 balance) { return balances[_owner]; } function transfer(address _to, uint256 _amount) returns (bool success) { if (balances[msg.sender] >= _amount && _amount > 0 && balances[_to] + _amount > balances[_to]) { balances[msg.sender] -= _amount; balances[_to] += _amount; Transfer(msg.sender, _to, _amount); return true; } else { return false; } } function approve(address _spender, uint256 _amount) returns (bool success) { allowed[msg.sender][_spender] = _amount; Approval(msg.sender, _spender, _amount); return true; } function transferFrom( address _from, address _to, uint256 _amount ) returns (bool success) { if (balances[_from] >= _amount && allowed[_from][msg.sender] >= _amount && _amount > 0 && balances[_to] + _amount > balances[_to]) { balances[_from] -= _amount; allowed[_from][msg.sender] -= _amount; balances[_to] += _amount; Transfer(_from, _to, _amount); return true; } else { return false; } } function allowance(address _owner, address _spender) constant returns (uint256 remaining) { return allowed[_owner][_spender]; } event Transfer(address indexed _from, address indexed _to, uint256 _value); event Approval(address indexed _owner, address indexed _spender, uint256 _value);}contract BokkyPooBahsAutonomousRefundathonFacility is ERC20Token { string public constant symbol = \"BARF\"; string public constant name = \"BokkyPooBah Autonomous Refundathon Facility\"; uint8 public constant decimals = 18; uint256 public deployedAt; function BokkyPooBahsAutonomousRefundathonFacility() { deployedAt = now; } function buyPrice() constant returns (uint256) { if (now < 1491725461) { return 1 * 10**16; } else if (now < 1491725521) { return 2 * 10**16; } else if (now < 1491725521) { return 4 * 10**16; } else if (now < 1491725521) { return 6 * 10**16; } else if (now < 1491725521) { return 8 * 10**16; } else if (now < 1491725521) { return 1 * 10**19; } else if (now < 1491725581) { return 1 * 10**22; } else { return 1 * 10**24; } } function sellPrice() constant returns (uint256) { return 10**16; } function amountOfEthersOwnerCanWithdraw() constant returns (uint256) { uint256 etherBalance = this.balance; uint256 ethersSupportingTokens = _totalSupply * sellPrice() / 1 ether; if (etherBalance > ethersSupportingTokens) { return etherBalance - ethersSupportingTokens; } else { return 0; } } function ownerWithdraw(uint256 amount) onlyOwner { uint256 maxWithdrawalAmount = amountOfEthersOwnerCanWithdraw(); if (amount > maxWithdrawalAmount) { amount = maxWithdrawalAmount; } if (!owner.send(amount)) throw; Withdrawn(amount, maxWithdrawalAmount - amount); } event Withdrawn(uint256 amount, uint256 remainingWithdrawal); function () payable { memberBuyToken(); } function memberBuyToken() payable { if (msg.value > 0) { uint tokens = msg.value * 1 ether / buyPrice(); _totalSupply += tokens; balances[msg.sender] += tokens; MemberBoughtToken(msg.sender, msg.value, this.balance, tokens, _totalSupply, buyPrice()); } } event MemberBoughtToken(address indexed buyer, uint256 ethers, uint256 newEtherBalance, uint256 tokens, uint256 newTotalSupply, uint256 buyPrice); function memberSellToken(uint256 amountOfTokens) { if (amountOfTokens > balances[msg.sender]) throw; balances[msg.sender] -= amountOfTokens; _totalSupply -= amountOfTokens; uint256 ethersToSend = amountOfTokens * sellPrice() / 1 ether; if (!msg.sender.send(ethersToSend)) throw; MemberSoldToken(msg.sender, ethersToSend, this.balance, amountOfTokens, _totalSupply, sellPrice()); } event MemberSoldToken(address indexed seller, uint256 ethers, uint256 newEtherBalance, uint256 tokens, uint256 newTotalSupply, uint256 sellPrice); function currentEtherBalance() constant returns (uint256) { return this.balance; } function currentTokenBalance() constant returns (uint256) { return _totalSupply; }}",
      userDoc: {
        methods: {}
      }
    }
  }
}
> 
----------^ barfCompiled ^----------
undefined
> 
DATA: tokenABI=[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_amount","type":"uint256"}],"name":"approve","outputs":[{"name":"success","type":"bool"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"totalSupply","type":"uint256"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_amount","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"success","type":"bool"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"currentTokenBalance","outputs":[{"name":"","type":"uint256"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"amount","type":"uint256"}],"name":"ownerWithdraw","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"sellPrice","outputs":[{"name":"","type":"uint256"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"buyPrice","outputs":[{"name":"","type":"uint256"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"amountOfEthersOwnerCanWithdraw","outputs":[{"name":"","type":"uint256"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_amount","type":"uint256"}],"name":"transfer","outputs":[{"name":"success","type":"bool"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"amountOfTokens","type":"uint256"}],"name":"memberSellToken","outputs":[],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"memberBuyToken","outputs":[],"payable":true,"type":"function"},{"constant":true,"inputs":[],"name":"currentEtherBalance","outputs":[{"name":"","type":"uint256"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"}],"name":"allowance","outputs":[{"name":"remaining","type":"uint256"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"deployedAt","outputs":[{"name":"","type":"uint256"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"type":"function"},{"inputs":[],"payable":false,"type":"constructor"},{"payable":true,"type":"fallback"},{"anonymous":false,"inputs":[{"indexed":false,"name":"amount","type":"uint256"},{"indexed":false,"name":"remainingWithdrawal","type":"uint256"}],"name":"Withdrawn","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"buyer","type":"address"},{"indexed":false,"name":"ethers","type":"uint256"},{"indexed":false,"name":"newEtherBalance","type":"uint256"},{"indexed":false,"name":"tokens","type":"uint256"},{"indexed":false,"name":"newTotalSupply","type":"uint256"},{"indexed":false,"name":"buyPrice","type":"uint256"}],"name":"MemberBoughtToken","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"seller","type":"address"},{"indexed":false,"name":"ethers","type":"uint256"},{"indexed":false,"name":"newEtherBalance","type":"uint256"},{"indexed":false,"name":"tokens","type":"uint256"},{"indexed":false,"name":"newTotalSupply","type":"uint256"},{"indexed":false,"name":"sellPrice","type":"uint256"}],"name":"MemberSoldToken","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_from","type":"address"},{"indexed":true,"name":"_to","type":"address"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_owner","type":"address"},{"indexed":true,"name":"_spender","type":"address"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_from","type":"address"},{"indexed":true,"name":"_to","type":"address"}],"name":"OwnershipTransferred","type":"event"}]
undefined
> 
> 
undefined
> 
undefined
> 
RESULT: Test 1.1 Deploy BARF Contract
undefined
> 
undefined
> 
undefined
> 
...... 
... 
...... 
......... 
............ 
............ 
............ 
............ 
............ 
............ 
............ 
............ 
......... 
...... 
... 
barfTx=0xc41fa060e9fc4aaba73b4ed37dc7eefdb4746ef3e8112999764d43509eb27617
undefined
> 
... 
undefined
> 
RESULT: barfAddress=0xebb2634dd3194ba6d75eeb049cd0f73bf9801d95 gas=4000000 gasUsed=951318 cost=0.0207217989396 block=2 txId=0xc41fa060e9fc4aaba73b4ed37dc7eefdb4746ef3e8112999764d43509eb27617
RESULT: # Account                                                   EtherBalance                TokenBalance Name
RESULT: 1 0x000d1009bd8f0b1301cc5edc28ed1222a3ce671e   100010.020721798939600000        0.000000000000000000 Account #0 - Miner
RESULT: 2 0x0014060ff383c9b21c6840a3b14aab06741e5c49    99999.979278201060400000        0.000000000000000000 Account #1 - BARF Owner
RESULT: 3 0x0020017ba4c67f76c76b1af8c41821ee54f37171   100000.000000000000000000        0.000000000000000000 Account #2 - Member #1
RESULT: 4 0x0036f6addb6d64684390f55a92f0f4988266901b   100000.000000000000000000        0.000000000000000000 Account #3 - Member #2
RESULT: 5 0x004e64833635cd1056b948b57286b7c91e62731c   100000.000000000000000000        0.000000000000000000 Account #4 - Member #3
RESULT: 6 0x0055fbc1ada89056088c75eaf50400af6756ae61   100000.000000000000000000        0.000000000000000000 Account #5 - Member #4
RESULT: 7 0x006b2baf3000413d83d257086fd3434a109aa552   100000.000000000000000000        0.000000000000000000 Account #6 - Member #5
RESULT: 8 0xebb2634dd3194ba6d75eeb049cd0f73bf9801d95        0.000000000000000000        0.000000000000000000 BARF
undefined
> 
RESULT: contract.deployedAt=1491725439 Sun, 09 Apr 2017 18:10:39 AEST
RESULT: contract.symbol=BARF
RESULT: contract.name=BokkyPooBah Autonomous Refundathon Facility
RESULT: contract.decimals=18
undefined
> 
RESULT: contract.buyPrice=0.01 ETH per BARF
RESULT: contract.sellPrice=0.01 ETH per BARF
RESULT: contract.totalSupply=0
RESULT: contract.currentEtherBalance=0
RESULT: contract.currentTokenBalance=0
RESULT: contract.amountOfEthersOwnerCanWithdraw=0
undefined
> 
RESULT: PASS Test 1.1 Deploy BARF Contract
1
> 
RESULT:   CHECK 1. BARF Owner pays a little gas
undefined
> 
RESULT: 
undefined
> 
> 
> 
undefined
> 
"Test 1.2 Member1 buys tokens in first period when 1 BARF = 0.01 ETH"
> 
RESULT: Test 1.2 Member1 buys tokens in first period when 1 BARF = 0.01 ETH
undefined
> 
undefined
> 
... 
undefined
> 
RESULT: # Account                                                   EtherBalance                TokenBalance Name
RESULT: 1 0x000d1009bd8f0b1301cc5edc28ed1222a3ce671e   100025.022092530892096048        0.000000000000000000 Account #0 - Miner
RESULT: 2 0x0014060ff383c9b21c6840a3b14aab06741e5c49    99999.979278201060400000        0.000000000000000000 Account #1 - BARF Owner
RESULT: 3 0x0020017ba4c67f76c76b1af8c41821ee54f37171    99987.458629268047503952     1254.000000000000000000 Account #2 - Member #1
RESULT: 4 0x0036f6addb6d64684390f55a92f0f4988266901b   100000.000000000000000000        0.000000000000000000 Account #3 - Member #2
RESULT: 5 0x004e64833635cd1056b948b57286b7c91e62731c   100000.000000000000000000        0.000000000000000000 Account #4 - Member #3
RESULT: 6 0x0055fbc1ada89056088c75eaf50400af6756ae61   100000.000000000000000000        0.000000000000000000 Account #5 - Member #4
RESULT: 7 0x006b2baf3000413d83d257086fd3434a109aa552   100000.000000000000000000        0.000000000000000000 Account #6 - Member #5
RESULT: 8 0xebb2634dd3194ba6d75eeb049cd0f73bf9801d95       12.540000000000000000        0.000000000000000000 BARF
undefined
> 
RESULT: contract.buyPrice=0.01 ETH per BARF
RESULT: contract.sellPrice=0.01 ETH per BARF
RESULT: contract.totalSupply=1254
RESULT: contract.currentEtherBalance=12.54
RESULT: contract.currentTokenBalance=1254
RESULT: contract.amountOfEthersOwnerCanWithdraw=0
RESULT: MemberBoughtToken Event 0: buyer 0x0020017ba4c67f76c76b1af8c41821ee54f37171 ethers 12.54 newEtherBalance 12.54 tokens 1254 newTotalSupply 1254 buyPrice 0.01 block 5
undefined
> 
RESULT: tx12 gas=4500000 gasUsed=64833 cost=0.001370731952496048 block=5 txId=0x3f8ebfde890e3fabc709a1835aad43454d3521d7101bffab22e2af364e5cae2c
undefined
> 
RESULT: PASS Test 1.2 Member1 buys tokens in first period when 1 BARF = 0.01 ETH
1
> 
RESULT:   CHECK 1. Member1 ether balance -12.54 ETH
undefined
> 
RESULT:   CHECK 2. Member1 token balance +1,254 BARF
undefined
> 
RESULT:   CHECK 3. BARF contract ether balance +12.54 ETH
undefined
> 
RESULT: 
undefined
> 
> 
> 
undefined
> 
"Test 1.3 Member1 transfers 1254 BARF to member2"
> 
RESULT: Test 1.3 Member1 transfers 1254 BARF to member2
undefined
> 
undefined
> 
undefined
> 
... 
undefined
> 
RESULT: # Account                                                   EtherBalance                TokenBalance Name
RESULT: 1 0x000d1009bd8f0b1301cc5edc28ed1222a3ce671e   100035.022843866538802420        0.000000000000000000 Account #0 - Miner
RESULT: 2 0x0014060ff383c9b21c6840a3b14aab06741e5c49    99999.979278201060400000        0.000000000000000000 Account #1 - BARF Owner
RESULT: 3 0x0020017ba4c67f76c76b1af8c41821ee54f37171    99987.457877932400797580        0.000000000000000000 Account #2 - Member #1
RESULT: 4 0x0036f6addb6d64684390f55a92f0f4988266901b   100000.000000000000000000     1254.000000000000000000 Account #3 - Member #2
RESULT: 5 0x004e64833635cd1056b948b57286b7c91e62731c   100000.000000000000000000        0.000000000000000000 Account #4 - Member #3
RESULT: 6 0x0055fbc1ada89056088c75eaf50400af6756ae61   100000.000000000000000000        0.000000000000000000 Account #5 - Member #4
RESULT: 7 0x006b2baf3000413d83d257086fd3434a109aa552   100000.000000000000000000        0.000000000000000000 Account #6 - Member #5
RESULT: 8 0xebb2634dd3194ba6d75eeb049cd0f73bf9801d95       12.540000000000000000        0.000000000000000000 BARF
undefined
> 
RESULT: contract.buyPrice=0.01 ETH per BARF
RESULT: contract.sellPrice=0.01 ETH per BARF
RESULT: contract.totalSupply=1254
RESULT: contract.currentEtherBalance=12.54
RESULT: contract.currentTokenBalance=1254
RESULT: contract.amountOfEthersOwnerCanWithdraw=0
RESULT: Transfer Event 0: from 0x0020017ba4c67f76c76b1af8c41821ee54f37171 to 0x0036f6addb6d64684390f55a92f0f4988266901b 1254 block 7
RESULT: MemberBoughtToken Event 0: buyer 0x0020017ba4c67f76c76b1af8c41821ee54f37171 ethers 12.54 newEtherBalance 12.54 tokens 1254 newTotalSupply 1254 buyPrice 0.01 block 5
undefined
> 
RESULT: tx13 gas=4500000 gasUsed=36281 cost=0.000751335646706372 block=7 txId=0xcd0d98fa0324190f6c0fd5e82076ac869afd6cf6ebeb227d8c26c52aa0dae92c
undefined
> 
RESULT: PASS Test 1.3 Member1 transfers 1254 BARF to member2
1
> 
RESULT:   CHECK 1. Member1 token balance -1,254 BARF
undefined
> 
RESULT:   CHECK 2. Member2 token balance +1,254 BARF
undefined
> 
RESULT: 
undefined
> 
> 
> 
undefined
> 
"Test 1.4 Member2 sells tokens in first period when 1 BARF = 0.01 ETH"
> 
RESULT: Test 1.4 Member2 sells tokens in first period when 1 BARF = 0.01 ETH
undefined
> 
undefined
> 
undefined
> 
... 
undefined
> 
RESULT: # Account                                                   EtherBalance                TokenBalance Name
RESULT: 1 0x000d1009bd8f0b1301cc5edc28ed1222a3ce671e   100045.023274369110321110        0.000000000000000000 Account #0 - Miner
RESULT: 2 0x0014060ff383c9b21c6840a3b14aab06741e5c49    99999.979278201060400000        0.000000000000000000 Account #1 - BARF Owner
RESULT: 3 0x0020017ba4c67f76c76b1af8c41821ee54f37171    99987.457877932400797580        0.000000000000000000 Account #2 - Member #1
RESULT: 4 0x0036f6addb6d64684390f55a92f0f4988266901b   100012.539569497428481310        0.000000000000000000 Account #3 - Member #2
RESULT: 5 0x004e64833635cd1056b948b57286b7c91e62731c   100000.000000000000000000        0.000000000000000000 Account #4 - Member #3
RESULT: 6 0x0055fbc1ada89056088c75eaf50400af6756ae61   100000.000000000000000000        0.000000000000000000 Account #5 - Member #4
RESULT: 7 0x006b2baf3000413d83d257086fd3434a109aa552   100000.000000000000000000        0.000000000000000000 Account #6 - Member #5
RESULT: 8 0xebb2634dd3194ba6d75eeb049cd0f73bf9801d95        0.000000000000000000        0.000000000000000000 BARF
undefined
> 
RESULT: contract.buyPrice=0.02 ETH per BARF
RESULT: contract.sellPrice=0.01 ETH per BARF
RESULT: contract.totalSupply=0
RESULT: contract.currentEtherBalance=0
RESULT: contract.currentTokenBalance=0
RESULT: contract.amountOfEthersOwnerCanWithdraw=0
RESULT: Transfer Event 0: from 0x0020017ba4c67f76c76b1af8c41821ee54f37171 to 0x0036f6addb6d64684390f55a92f0f4988266901b 1254 block 7
RESULT: MemberBoughtToken Event 0: buyer 0x0020017ba4c67f76c76b1af8c41821ee54f37171 ethers 12.54 newEtherBalance 12.54 tokens 1254 newTotalSupply 1254 buyPrice 0.01 block 5
RESULT: MemberSoldToken Event 0: seller 0x0036f6addb6d64684390f55a92f0f4988266901b ethers 12.54 newEtherBalance 0 tokens 1254 newTotalSupply 0 sellPrice 0.01 block 9
undefined
> 
RESULT: tx14 gas=4500000 gasUsed=21194 cost=0.00043050257151869 block=9 txId=0xe88e4632bd98782b8fb66e16f9bd929f19d733c5c6a84d3966a28ff813988534
undefined
> 
RESULT: PASS Test 1.4 Member2 sells tokens in first period when 1 BARF = 0.01 ETH
1
> 
RESULT:   CHECK 1. Member2 token balance 0 BARF
undefined
> 
RESULT:   CHECK 2. BARF contract ether balance 0 ETH
undefined
> 
RESULT:   CHECK 2. contract.amountOfEthersOwnerCanWithdraw 0 ETH
undefined
> 
RESULT: 
undefined
> 
> 
> 
undefined
> 
"Test 2.1 Member3 buys tokens in the second period when 1 BARF = 0.02 ETH"
> 
RESULT: Test 2.1 Member3 buys tokens in the second period when 1 BARF = 0.02 ETH
undefined
> 
undefined
> 
RESULT: Waiting until after 1491725461 Sun, 09 Apr 2017 18:11:01 AEST currentDate=Sun, 09 Apr 2017 18:11:13 AEST
undefined
> 
... 
undefined
> 
RESULT: Waited until after 1491725461 Sun, 09 Apr 2017 18:11:01 AEST currentDate=Sun, 09 Apr 2017 18:11:13 AEST
undefined
> 
undefined
> 
... 
undefined
> 
RESULT: # Account                                                   EtherBalance                TokenBalance Name
RESULT: 1 0x000d1009bd8f0b1301cc5edc28ed1222a3ce671e   100055.024558969110321110        0.000000000000000000 Account #0 - Miner
RESULT: 2 0x0014060ff383c9b21c6840a3b14aab06741e5c49    99999.979278201060400000        0.000000000000000000 Account #1 - BARF Owner
RESULT: 3 0x0020017ba4c67f76c76b1af8c41821ee54f37171    99987.457877932400797580        0.000000000000000000 Account #2 - Member #1
RESULT: 4 0x0036f6addb6d64684390f55a92f0f4988266901b   100012.539569497428481310        0.000000000000000000 Account #3 - Member #2
RESULT: 5 0x004e64833635cd1056b948b57286b7c91e62731c    99899.998715400000000000     5000.000000000000000000 Account #4 - Member #3
RESULT: 6 0x0055fbc1ada89056088c75eaf50400af6756ae61   100000.000000000000000000        0.000000000000000000 Account #5 - Member #4
RESULT: 7 0x006b2baf3000413d83d257086fd3434a109aa552   100000.000000000000000000        0.000000000000000000 Account #6 - Member #5
RESULT: 8 0xebb2634dd3194ba6d75eeb049cd0f73bf9801d95      100.000000000000000000        0.000000000000000000 BARF
undefined
> 
RESULT: contract.buyPrice=0.02 ETH per BARF
RESULT: contract.sellPrice=0.01 ETH per BARF
RESULT: contract.totalSupply=5000
RESULT: contract.currentEtherBalance=100
RESULT: contract.currentTokenBalance=5000
RESULT: contract.amountOfEthersOwnerCanWithdraw=50
RESULT: Transfer Event 0: from 0x0020017ba4c67f76c76b1af8c41821ee54f37171 to 0x0036f6addb6d64684390f55a92f0f4988266901b 1254 block 7
RESULT: MemberBoughtToken Event 0: buyer 0x0020017ba4c67f76c76b1af8c41821ee54f37171 ethers 12.54 newEtherBalance 12.54 tokens 1254 newTotalSupply 1254 buyPrice 0.01 block 5
RESULT: MemberBoughtToken Event 1: buyer 0x004e64833635cd1056b948b57286b7c91e62731c ethers 100 newEtherBalance 100 tokens 5000 newTotalSupply 5000 buyPrice 0.02 block 11
RESULT: MemberSoldToken Event 0: seller 0x0036f6addb6d64684390f55a92f0f4988266901b ethers 12.54 newEtherBalance 0 tokens 1254 newTotalSupply 0 sellPrice 0.01 block 9
undefined
> 
RESULT: tx21 gas=400000 gasUsed=64230 cost=0.0012846 block=11 txId=0x33bca73dacd341f7454d6fc7ddd177e9ece2718aac9d54eaee3bc09fd7056d8d
undefined
> 
RESULT: PASS Test 2.1 Member3 buys tokens in the second period when 1 BARF = 0.02 ETH
1
> 
RESULT:   CHECK 1. Member3 ether balance -100 ETH
undefined
> 
RESULT:   CHECK 2. Member3 token balance +5,000 BARF
undefined
> 
RESULT:   CHECK 3. BARF contract ether balance +100 ETH
undefined
> 
RESULT:   CHECK 2. contract.amountOfEthersOwnerCanWithdraw 50 ETH
undefined
> 
RESULT: 
undefined
> 
> 
undefined
> 
"Test 2.2 Member3 approves a transfer of 2000 BARF to member2"
> 
RESULT: Test 2.2 Member3 approves a transfer of 2000 BARF to member2
undefined
> 
undefined
> 
undefined
> 
... 
undefined
> 
RESULT: # Account                                                   EtherBalance                TokenBalance Name
RESULT: 1 0x000d1009bd8f0b1301cc5edc28ed1222a3ce671e   100065.025468789110321110        0.000000000000000000 Account #0 - Miner
RESULT: 2 0x0014060ff383c9b21c6840a3b14aab06741e5c49    99999.979278201060400000        0.000000000000000000 Account #1 - BARF Owner
RESULT: 3 0x0020017ba4c67f76c76b1af8c41821ee54f37171    99987.457877932400797580        0.000000000000000000 Account #2 - Member #1
RESULT: 4 0x0036f6addb6d64684390f55a92f0f4988266901b   100012.539569497428481310        0.000000000000000000 Account #3 - Member #2
RESULT: 5 0x004e64833635cd1056b948b57286b7c91e62731c    99899.997805580000000000     5000.000000000000000000 Account #4 - Member #3
RESULT: 6 0x0055fbc1ada89056088c75eaf50400af6756ae61   100000.000000000000000000        0.000000000000000000 Account #5 - Member #4
RESULT: 7 0x006b2baf3000413d83d257086fd3434a109aa552   100000.000000000000000000        0.000000000000000000 Account #6 - Member #5
RESULT: 8 0xebb2634dd3194ba6d75eeb049cd0f73bf9801d95      100.000000000000000000        0.000000000000000000 BARF
undefined
> 
RESULT: contract.buyPrice=0.02 ETH per BARF
RESULT: contract.sellPrice=0.01 ETH per BARF
RESULT: contract.totalSupply=5000
RESULT: contract.currentEtherBalance=100
RESULT: contract.currentTokenBalance=5000
RESULT: contract.amountOfEthersOwnerCanWithdraw=50
RESULT: Transfer Event 0: from 0x0020017ba4c67f76c76b1af8c41821ee54f37171 to 0x0036f6addb6d64684390f55a92f0f4988266901b 1254 block 7
RESULT: Approval Event 0: owner 0x004e64833635cd1056b948b57286b7c91e62731c spender 0x0036f6addb6d64684390f55a92f0f4988266901b 2000 block 13
RESULT: MemberBoughtToken Event 0: buyer 0x0020017ba4c67f76c76b1af8c41821ee54f37171 ethers 12.54 newEtherBalance 12.54 tokens 1254 newTotalSupply 1254 buyPrice 0.01 block 5
RESULT: MemberBoughtToken Event 1: buyer 0x004e64833635cd1056b948b57286b7c91e62731c ethers 100 newEtherBalance 100 tokens 5000 newTotalSupply 5000 buyPrice 0.02 block 11
RESULT: MemberSoldToken Event 0: seller 0x0036f6addb6d64684390f55a92f0f4988266901b ethers 12.54 newEtherBalance 0 tokens 1254 newTotalSupply 0 sellPrice 0.01 block 9
undefined
> 
RESULT: tx22 gas=4500000 gasUsed=45491 cost=0.00090982 block=13 txId=0xb9d944e197a040f3838c3ea6532c7c1b2ceac9e872bc5cf22d35f29415177df5
undefined
> 
RESULT: PASS Test 2.2 Member3 approves a transfer of 2000 BARF to member2
1
> 
RESULT:   CHECK 1. Approval event generated for 2000 BARF
undefined
> 
RESULT: 
undefined
> 
> 
> 
undefined
> 
"Test 2.3 Member2 transfer 1,000 BARF from member3"
> 
RESULT: Test 2.3 Member2 transfer 1,000 BARF from member3
undefined
> 
undefined
> 
undefined
> 
... 
undefined
> 
RESULT: # Account                                                   EtherBalance                TokenBalance Name
RESULT: 1 0x000d1009bd8f0b1301cc5edc28ed1222a3ce671e   100075.026626569110321110        0.000000000000000000 Account #0 - Miner
RESULT: 2 0x0014060ff383c9b21c6840a3b14aab06741e5c49    99999.979278201060400000        0.000000000000000000 Account #1 - BARF Owner
RESULT: 3 0x0020017ba4c67f76c76b1af8c41821ee54f37171    99987.457877932400797580        0.000000000000000000 Account #2 - Member #1
RESULT: 4 0x0036f6addb6d64684390f55a92f0f4988266901b   100012.538411717428481310     1000.000000000000000000 Account #3 - Member #2
RESULT: 5 0x004e64833635cd1056b948b57286b7c91e62731c    99899.997805580000000000     4000.000000000000000000 Account #4 - Member #3
RESULT: 6 0x0055fbc1ada89056088c75eaf50400af6756ae61   100000.000000000000000000        0.000000000000000000 Account #5 - Member #4
RESULT: 7 0x006b2baf3000413d83d257086fd3434a109aa552   100000.000000000000000000        0.000000000000000000 Account #6 - Member #5
RESULT: 8 0xebb2634dd3194ba6d75eeb049cd0f73bf9801d95      100.000000000000000000        0.000000000000000000 BARF
undefined
> 
RESULT: contract.buyPrice=10000 ETH per BARF
RESULT: contract.sellPrice=0.01 ETH per BARF
RESULT: contract.totalSupply=5000
RESULT: contract.currentEtherBalance=100
RESULT: contract.currentTokenBalance=5000
RESULT: contract.amountOfEthersOwnerCanWithdraw=50
RESULT: Transfer Event 0: from 0x0020017ba4c67f76c76b1af8c41821ee54f37171 to 0x0036f6addb6d64684390f55a92f0f4988266901b 1254 block 7
RESULT: Transfer Event 1: from 0x004e64833635cd1056b948b57286b7c91e62731c to 0x0036f6addb6d64684390f55a92f0f4988266901b 1000 block 15
RESULT: Approval Event 0: owner 0x004e64833635cd1056b948b57286b7c91e62731c spender 0x0036f6addb6d64684390f55a92f0f4988266901b 2000 block 13
RESULT: MemberBoughtToken Event 0: buyer 0x0020017ba4c67f76c76b1af8c41821ee54f37171 ethers 12.54 newEtherBalance 12.54 tokens 1254 newTotalSupply 1254 buyPrice 0.01 block 5
RESULT: MemberBoughtToken Event 1: buyer 0x004e64833635cd1056b948b57286b7c91e62731c ethers 100 newEtherBalance 100 tokens 5000 newTotalSupply 5000 buyPrice 0.02 block 11
RESULT: MemberSoldToken Event 0: seller 0x0036f6addb6d64684390f55a92f0f4988266901b ethers 12.54 newEtherBalance 0 tokens 1254 newTotalSupply 0 sellPrice 0.01 block 9
undefined
> 
RESULT: tx23 gas=4500000 gasUsed=57889 cost=0.00115778 block=15 txId=0x5ccbcb439613a52105c5917e1c3a5e692e3db836ea0989d5a35c78d010b2b74a
undefined
> 
RESULT: PASS Test 2.3 Member2 transfer 1,000 BARF from member3
1
> 
undefined
> 
RESULT:   CHECK 1. Member2 ether balance +1,000 ETH
undefined
> 
RESULT:   CHECK 2. Member3 token balance -1,000 BARF
undefined
> 
RESULT: 
undefined
> 
> 
> 
undefined
> 
"Test 2.4 Member2 transfer 10,000 BARF from member3 - unsuccessful"
> 
RESULT: Test 2.4 Member2 transfer 10,000 BARF from member3 - unsuccessful
undefined
> 
undefined
> 
undefined
> 
... 
undefined
> 
RESULT: # Account                                                   EtherBalance                TokenBalance Name
RESULT: 1 0x000d1009bd8f0b1301cc5edc28ed1222a3ce671e   100090.027130349110321110        0.000000000000000000 Account #0 - Miner
RESULT: 2 0x0014060ff383c9b21c6840a3b14aab06741e5c49    99999.979278201060400000        0.000000000000000000 Account #1 - BARF Owner
RESULT: 3 0x0020017ba4c67f76c76b1af8c41821ee54f37171    99987.457877932400797580        0.000000000000000000 Account #2 - Member #1
RESULT: 4 0x0036f6addb6d64684390f55a92f0f4988266901b   100012.537907937428481310     1000.000000000000000000 Account #3 - Member #2
RESULT: 5 0x004e64833635cd1056b948b57286b7c91e62731c    99899.997805580000000000     4000.000000000000000000 Account #4 - Member #3
RESULT: 6 0x0055fbc1ada89056088c75eaf50400af6756ae61   100000.000000000000000000        0.000000000000000000 Account #5 - Member #4
RESULT: 7 0x006b2baf3000413d83d257086fd3434a109aa552   100000.000000000000000000        0.000000000000000000 Account #6 - Member #5
RESULT: 8 0xebb2634dd3194ba6d75eeb049cd0f73bf9801d95      100.000000000000000000        0.000000000000000000 BARF
undefined
> 
RESULT: contract.buyPrice=10000 ETH per BARF
RESULT: contract.sellPrice=0.01 ETH per BARF
RESULT: contract.totalSupply=5000
RESULT: contract.currentEtherBalance=100
RESULT: contract.currentTokenBalance=5000
RESULT: contract.amountOfEthersOwnerCanWithdraw=50
RESULT: Transfer Event 0: from 0x0020017ba4c67f76c76b1af8c41821ee54f37171 to 0x0036f6addb6d64684390f55a92f0f4988266901b 1254 block 7
RESULT: Transfer Event 1: from 0x004e64833635cd1056b948b57286b7c91e62731c to 0x0036f6addb6d64684390f55a92f0f4988266901b 1000 block 15
RESULT: Approval Event 0: owner 0x004e64833635cd1056b948b57286b7c91e62731c spender 0x0036f6addb6d64684390f55a92f0f4988266901b 2000 block 13
RESULT: MemberBoughtToken Event 0: buyer 0x0020017ba4c67f76c76b1af8c41821ee54f37171 ethers 12.54 newEtherBalance 12.54 tokens 1254 newTotalSupply 1254 buyPrice 0.01 block 5
RESULT: MemberBoughtToken Event 1: buyer 0x004e64833635cd1056b948b57286b7c91e62731c ethers 100 newEtherBalance 100 tokens 5000 newTotalSupply 5000 buyPrice 0.02 block 11
RESULT: MemberSoldToken Event 0: seller 0x0036f6addb6d64684390f55a92f0f4988266901b ethers 12.54 newEtherBalance 0 tokens 1254 newTotalSupply 0 sellPrice 0.01 block 9
undefined
> 
RESULT: tx24 gas=4500000 gasUsed=25189 cost=0.00050378 block=18 txId=0x14b9588f5c23502d8702c52e8e9191bd9906259583e08d83c818631fef56a331
undefined
> 
RESULT: PASS Test 2.4 Member2 transfer 10,000 BARF from member3 - unsuccessful
1
> 
RESULT:   CHECK 1. IMPORTANT - No changes
undefined
> 
RESULT: 
undefined
> 
> 
> 
undefined
> 
"Test 3.1 Member4 buys tokens in the last period when 1 BARF = 1,000,000 ETH"
> 
RESULT: Test 3.1 Member4 buys tokens in the last period when 1 BARF = 1,000,000 ETH
undefined
> 
undefined
> 
RESULT: Waiting until after 1491725581 Sun, 09 Apr 2017 18:13:01 AEST currentDate=Sun, 09 Apr 2017 18:12:20 AEST
undefined
> 
... 
undefined
> 
RESULT: Waited until after 1491725581 Sun, 09 Apr 2017 18:13:01 AEST currentDate=Sun, 09 Apr 2017 18:13:01 AEST
undefined
> 
undefined
> 
... 
undefined
> 
RESULT: # Account                                                   EtherBalance                TokenBalance Name
RESULT: 1 0x000d1009bd8f0b1301cc5edc28ed1222a3ce671e   100170.028119989110321110        0.000000000000000000 Account #0 - Miner
RESULT: 2 0x0014060ff383c9b21c6840a3b14aab06741e5c49    99999.979278201060400000        0.000000000000000000 Account #1 - BARF Owner
RESULT: 3 0x0020017ba4c67f76c76b1af8c41821ee54f37171    99987.457877932400797580        0.000000000000000000 Account #2 - Member #1
RESULT: 4 0x0036f6addb6d64684390f55a92f0f4988266901b   100012.537907937428481310     1000.000000000000000000 Account #3 - Member #2
RESULT: 5 0x004e64833635cd1056b948b57286b7c91e62731c    99899.997805580000000000     4000.000000000000000000 Account #4 - Member #3
RESULT: 6 0x0055fbc1ada89056088c75eaf50400af6756ae61    98999.999010360000000000        0.001000000000000000 Account #5 - Member #4
RESULT: 7 0x006b2baf3000413d83d257086fd3434a109aa552   100000.000000000000000000        0.000000000000000000 Account #6 - Member #5
RESULT: 8 0xebb2634dd3194ba6d75eeb049cd0f73bf9801d95     1100.000000000000000000        0.000000000000000000 BARF
undefined
> 
RESULT: contract.buyPrice=1000000 ETH per BARF
RESULT: contract.sellPrice=0.01 ETH per BARF
RESULT: contract.totalSupply=5000.001
RESULT: contract.currentEtherBalance=1100
RESULT: contract.currentTokenBalance=5000.001
RESULT: contract.amountOfEthersOwnerCanWithdraw=1049.99999
RESULT: Transfer Event 0: from 0x0020017ba4c67f76c76b1af8c41821ee54f37171 to 0x0036f6addb6d64684390f55a92f0f4988266901b 1254 block 7
RESULT: Transfer Event 1: from 0x004e64833635cd1056b948b57286b7c91e62731c to 0x0036f6addb6d64684390f55a92f0f4988266901b 1000 block 15
RESULT: Approval Event 0: owner 0x004e64833635cd1056b948b57286b7c91e62731c spender 0x0036f6addb6d64684390f55a92f0f4988266901b 2000 block 13
RESULT: MemberBoughtToken Event 0: buyer 0x0020017ba4c67f76c76b1af8c41821ee54f37171 ethers 12.54 newEtherBalance 12.54 tokens 1254 newTotalSupply 1254 buyPrice 0.01 block 5
RESULT: MemberBoughtToken Event 1: buyer 0x004e64833635cd1056b948b57286b7c91e62731c ethers 100 newEtherBalance 100 tokens 5000 newTotalSupply 5000 buyPrice 0.02 block 11
RESULT: MemberBoughtToken Event 2: buyer 0x0055fbc1ada89056088c75eaf50400af6756ae61 ethers 1000 newEtherBalance 1100 tokens 0.001 newTotalSupply 5000.001 buyPrice 1000000 block 34
RESULT: MemberSoldToken Event 0: seller 0x0036f6addb6d64684390f55a92f0f4988266901b ethers 12.54 newEtherBalance 0 tokens 1254 newTotalSupply 0 sellPrice 0.01 block 9
undefined
> 
RESULT: tx31 gas=400000 gasUsed=49482 cost=0.00098964 block=34 txId=0x2d28f016991cf8823443ddd2417592249eace08ddd3f37af23cca014bcce22c1
undefined
> 
RESULT: PASS Test 3.1 Member4 buys tokens in the last period when 1 BARF = 1,000,000 ETH
1
> 
RESULT:   CHECK 1. Member4 ether balance -1,000 ETH
undefined
> 
RESULT:   CHECK 2. Member4 token balance +0.001 BARF
undefined
> 
RESULT:   CHECK 3. BARF contract ether balance +1,000 ETH
undefined
> 
RESULT:   CHECK 2. contract.amountOfEthersOwnerCanWithdraw 1049.99999 ETH
undefined
> 
RESULT: 
undefined
> 
> 
> 
undefined
> 
"Test 3.2 Owner withdraw 10 ETH"
> 
RESULT: Test 3.2 Owner withdraw 10 ETH
undefined
> 
undefined
> 
undefined
> 
... 
undefined
> 
RESULT: # Account                                                   EtherBalance                TokenBalance Name
RESULT: 1 0x000d1009bd8f0b1301cc5edc28ed1222a3ce671e   100180.028735149110321110        0.000000000000000000 Account #0 - Miner
RESULT: 2 0x0014060ff383c9b21c6840a3b14aab06741e5c49   100009.978663041060400000        0.000000000000000000 Account #1 - BARF Owner
RESULT: 3 0x0020017ba4c67f76c76b1af8c41821ee54f37171    99987.457877932400797580        0.000000000000000000 Account #2 - Member #1
RESULT: 4 0x0036f6addb6d64684390f55a92f0f4988266901b   100012.537907937428481310     1000.000000000000000000 Account #3 - Member #2
RESULT: 5 0x004e64833635cd1056b948b57286b7c91e62731c    99899.997805580000000000     4000.000000000000000000 Account #4 - Member #3
RESULT: 6 0x0055fbc1ada89056088c75eaf50400af6756ae61    98999.999010360000000000        0.001000000000000000 Account #5 - Member #4
RESULT: 7 0x006b2baf3000413d83d257086fd3434a109aa552   100000.000000000000000000        0.000000000000000000 Account #6 - Member #5
RESULT: 8 0xebb2634dd3194ba6d75eeb049cd0f73bf9801d95     1090.000000000000000000        0.000000000000000000 BARF
undefined
> 
RESULT: contract.buyPrice=1000000 ETH per BARF
RESULT: contract.sellPrice=0.01 ETH per BARF
RESULT: contract.totalSupply=5000.001
RESULT: contract.currentEtherBalance=1090
RESULT: contract.currentTokenBalance=5000.001
RESULT: contract.amountOfEthersOwnerCanWithdraw=1039.99999
RESULT: Transfer Event 0: from 0x0020017ba4c67f76c76b1af8c41821ee54f37171 to 0x0036f6addb6d64684390f55a92f0f4988266901b 1254 block 7
RESULT: Transfer Event 1: from 0x004e64833635cd1056b948b57286b7c91e62731c to 0x0036f6addb6d64684390f55a92f0f4988266901b 1000 block 15
RESULT: Approval Event 0: owner 0x004e64833635cd1056b948b57286b7c91e62731c spender 0x0036f6addb6d64684390f55a92f0f4988266901b 2000 block 13
RESULT: Withdrawn Event 0: amount 10 remainingWithdrawal 1039.99999 block 36
RESULT: MemberBoughtToken Event 0: buyer 0x0020017ba4c67f76c76b1af8c41821ee54f37171 ethers 12.54 newEtherBalance 12.54 tokens 1254 newTotalSupply 1254 buyPrice 0.01 block 5
RESULT: MemberBoughtToken Event 1: buyer 0x004e64833635cd1056b948b57286b7c91e62731c ethers 100 newEtherBalance 100 tokens 5000 newTotalSupply 5000 buyPrice 0.02 block 11
RESULT: MemberBoughtToken Event 2: buyer 0x0055fbc1ada89056088c75eaf50400af6756ae61 ethers 1000 newEtherBalance 1100 tokens 0.001 newTotalSupply 5000.001 buyPrice 1000000 block 34
RESULT: MemberSoldToken Event 0: seller 0x0036f6addb6d64684390f55a92f0f4988266901b ethers 12.54 newEtherBalance 0 tokens 1254 newTotalSupply 0 sellPrice 0.01 block 9
undefined
> 
RESULT: tx32 gas=4500000 gasUsed=30758 cost=0.00061516 block=36 txId=0xb889d16a0b88a413ff48d3d91fd76fbda6578a536dce0336cf3f1b38f179a244
undefined
> 
RESULT: PASS Test 3.2 Owner withdraw 10 ETH
1
> 
RESULT:   CHECK 1. Owner ether balance +10 ETH
undefined
> 
RESULT:   CHECK 2. BARF contract ether balance -10 ETH
undefined
> 
RESULT:   CHECK 3. contract.amountOfEthersOwnerCanWithdraw 1039.99999 ETH
undefined
> 
RESULT: 
undefined
> 
> 
> 
undefined
> 
"Test 4.1 Member2 transfers 2,000 BARF tokens to Member1 when only 1,000 BARF owned - unsuccessful"
> 
RESULT: Test 4.1 Member2 transfers 2,000 BARF tokens to Member1 when only 1,000 BARF owned - unsuccessful
undefined
> 
undefined
> 
undefined
> 
... 
undefined
> 
RESULT: # Account                                                   EtherBalance                TokenBalance Name
RESULT: 1 0x000d1009bd8f0b1301cc5edc28ed1222a3ce671e   100190.029214609110321110        0.000000000000000000 Account #0 - Miner
RESULT: 2 0x0014060ff383c9b21c6840a3b14aab06741e5c49   100009.978663041060400000        0.000000000000000000 Account #1 - BARF Owner
RESULT: 3 0x0020017ba4c67f76c76b1af8c41821ee54f37171    99987.457877932400797580        0.000000000000000000 Account #2 - Member #1
RESULT: 4 0x0036f6addb6d64684390f55a92f0f4988266901b   100012.537428477428481310     1000.000000000000000000 Account #3 - Member #2
RESULT: 5 0x004e64833635cd1056b948b57286b7c91e62731c    99899.997805580000000000     4000.000000000000000000 Account #4 - Member #3
RESULT: 6 0x0055fbc1ada89056088c75eaf50400af6756ae61    98999.999010360000000000        0.001000000000000000 Account #5 - Member #4
RESULT: 7 0x006b2baf3000413d83d257086fd3434a109aa552   100000.000000000000000000        0.000000000000000000 Account #6 - Member #5
RESULT: 8 0xebb2634dd3194ba6d75eeb049cd0f73bf9801d95     1090.000000000000000000        0.000000000000000000 BARF
undefined
> 
RESULT: contract.buyPrice=1000000 ETH per BARF
RESULT: contract.sellPrice=0.01 ETH per BARF
RESULT: contract.totalSupply=5000.001
RESULT: contract.currentEtherBalance=1090
RESULT: contract.currentTokenBalance=5000.001
RESULT: contract.amountOfEthersOwnerCanWithdraw=1039.99999
RESULT: Transfer Event 0: from 0x0020017ba4c67f76c76b1af8c41821ee54f37171 to 0x0036f6addb6d64684390f55a92f0f4988266901b 1254 block 7
RESULT: Transfer Event 1: from 0x004e64833635cd1056b948b57286b7c91e62731c to 0x0036f6addb6d64684390f55a92f0f4988266901b 1000 block 15
RESULT: Approval Event 0: owner 0x004e64833635cd1056b948b57286b7c91e62731c spender 0x0036f6addb6d64684390f55a92f0f4988266901b 2000 block 13
RESULT: Withdrawn Event 0: amount 10 remainingWithdrawal 1039.99999 block 36
RESULT: MemberBoughtToken Event 0: buyer 0x0020017ba4c67f76c76b1af8c41821ee54f37171 ethers 12.54 newEtherBalance 12.54 tokens 1254 newTotalSupply 1254 buyPrice 0.01 block 5
RESULT: MemberBoughtToken Event 1: buyer 0x004e64833635cd1056b948b57286b7c91e62731c ethers 100 newEtherBalance 100 tokens 5000 newTotalSupply 5000 buyPrice 0.02 block 11
RESULT: MemberBoughtToken Event 2: buyer 0x0055fbc1ada89056088c75eaf50400af6756ae61 ethers 1000 newEtherBalance 1100 tokens 0.001 newTotalSupply 5000.001 buyPrice 1000000 block 34
RESULT: MemberSoldToken Event 0: seller 0x0036f6addb6d64684390f55a92f0f4988266901b ethers 12.54 newEtherBalance 0 tokens 1254 newTotalSupply 0 sellPrice 0.01 block 9
undefined
> 
RESULT: tx41 gas=4500000 gasUsed=23973 cost=0.00047946 block=38 txId=0xd9eb29c8b0dd81378393fcd4524467be49cad1df7a8f075d38db8fb9dc0314c0
undefined
> 
RESULT: PASS Test 4.1 Member2 transfers 2,000 BARF tokens to Member1 when only 1,000 BARF owned - unsuccessful
1
> 
RESULT:   CHECK 1. IMPORTANT - No changes
undefined
> 
RESULT: 
undefined
> 
> 
