Welcome to the Geth JavaScript console!

instance: Geth/v1.6.0-unstable-f3579f64/darwin/go1.8
coinbase: 0x000d1009bd8f0b1301cc5edc28ed1222a3ce671e
at block: 41 (Mon, 10 Apr 2017 11:22:05 AEST)
 datadir: /Users/bok/Projects/BokkyPooBahsEtherRefundablePrize/test/testchain
 modules: admin:1.0 debug:1.0 eth:1.0 miner:1.0 net:1.0 personal:1.0 rpc:1.0 txpool:1.0 web3:1.0

> 
true
> 
undefined
> 
RESULT: # Account                                                   EtherBalance                TokenBalance Name
RESULT: 1 0x000d1009bd8f0b1301cc5edc28ed1222a3ce671e   100230.000000000000000000        0.000000000000000000 Account #0 - Miner
RESULT: 2 0x0014060ff383c9b21c6840a3b14aab06741e5c49   100000.000000000000000000        0.000000000000000000 Account #1 - BERP Owner
RESULT: 3 0x0020017ba4c67f76c76b1af8c41821ee54f37171   100000.000000000000000000        0.000000000000000000 Account #2 - Member #1
RESULT: 4 0x0036f6addb6d64684390f55a92f0f4988266901b   100000.000000000000000000        0.000000000000000000 Account #3 - Member #2
RESULT: 5 0x004e64833635cd1056b948b57286b7c91e62731c   100000.000000000000000000        0.000000000000000000 Account #4 - Member #3
RESULT: 6 0x0055fbc1ada89056088c75eaf50400af6756ae61   100000.000000000000000000        0.000000000000000000 Account #5 - Member #4
RESULT: 7 0x006b2baf3000413d83d257086fd3434a109aa552   100000.000000000000000000        0.000000000000000000 Account #6 - Member #5
undefined
> 
> 
undefined
> 
true
> 
undefined
> 
> 
undefined
> 
----------v berpCompiled v----------
undefined
> 
{
  <stdin>:BokkyPooBahsEtherRefundablePrize: {
    code: "0x60606040526000600155341561001157fe5b5b5b60008054600160a060020a03191633600160a060020a03161790555b426004555b5b610c85806100446000396000f300606060405236156101015763ffffffff60e060020a60003504166306fdde038114610112578063095ea7b3146101a257806318160ddd146101d557806323b872dd146101f757806323c94353146101d5578063313ce5671461025257806333f707d114610278578063383e3a5d1461028d5780634b750334146102b25780636c11bcd3146102d457806370a08231146102e95780638620410b146103175780638da5cb5b1461033957806395d89b411461036557806399fca937146103f5578063a9059cbb14610417578063d0febe4c1461044a578063d5a5825d14610454578063dd62ed3e14610476578063eae4c19f146104aa578063f2fde38b146104cc575b6101105b61010d6104ea565b5b565b005b341561011a57fe5b6101226105a7565b604080516020808252835181830152835191928392908301918501908083838215610168575b80518252602083111561016857601f199092019160209182019101610148565b505050905090810190601f1680156101945780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34156101aa57fe5b6101c1600160a060020a0360043516602435610607565b604080519115158252519081900360200190f35b34156101dd57fe5b6101e5610672565b60408051918252519081900360200190f35b34156101ff57fe5b6101c1600160a060020a0360043581169060243516604435610679565b604080519115158252519081900360200190f35b34156101dd57fe5b6101e5610672565b60408051918252519081900360200190f35b341561025a57fe5b61026261079a565b6040805160ff9092168252519081900360200190f35b341561028057fe5b61011060043561079f565b005b341561029557fe5b6101e5600435610846565b60408051918252519081900360200190f35b34156102ba57fe5b6101e56108e7565b60408051918252519081900360200190f35b34156102dc57fe5b6101106004356108f3565b005b34156102f157fe5b6101e5600160a060020a0360043516610a03565b60408051918252519081900360200190f35b341561031f57fe5b6101e5610a22565b60408051918252519081900360200190f35b341561034157fe5b610349610a33565b60408051600160a060020a039092168252519081900360200190f35b341561036d57fe5b610122610a42565b604080516020808252835181830152835191928392908301918501908083838215610168575b80518252602083111561016857601f199092019160209182019101610148565b505050905090810190601f1680156101945780820380516001836020036101000a031916815260200191505b509250505060405180910390f35b34156103fd57fe5b6101e5610a79565b60408051918252519081900360200190f35b341561041f57fe5b6101c1600160a060020a0360043516602435610ac5565b604080519115158252519081900360200190f35b6101106104ea565b005b341561045c57fe5b6101e5610b96565b60408051918252519081900360200190f35b341561047e57fe5b6101e5600160a060020a0360043581169060243516610ba5565b60408051918252519081900360200190f35b34156104b257fe5b6101e5610bd2565b60408051918252519081900360200190f35b34156104d457fe5b610110600160a060020a0360043516610bd8565b005b600060003411156105a3576104fd610a22565b34670de0b6b3a76400000281151561051157fe5b60018054929091049182018155600160a060020a033381166000818152600260205260409020805485019055915492935090917f6a7381bdc8f4e7ed3c0f0c299382777bde88a65f0c27f670235401d1544546309134913090911631908590610578610a22565b6040805195865260208601949094528484019290925260608401526080830152519081900360a00190a25b5b50565b606060405190810160405280602281526020017f426f6b6b79506f6f42616820457468657220526566756e6461626c652050726981526020017f7a6500000000000000000000000000000000000000000000000000000000000081525081565b600160a060020a03338116600081815260036020908152604080832094871680845294825280832086905580518681529051929493927f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925929181900390910190a35060015b92915050565b6001545b90565b600160a060020a0383166000908152600260205260408120548290108015906106c95750600160a060020a0380851660009081526003602090815260408083203390941683529290522054829010155b80156106d55750600082115b80156106fa5750600160a060020a038316600090815260026020526040902054828101115b1561078757600160a060020a03808516600081815260026020818152604080842080548990039055600382528084203387168552825280842080548990039055948816808452918152918490208054870190558351868152935190937fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef92908290030190a350600161078b565b5060005b5b9392505050565b6001545b90565b601281565b6000805433600160a060020a039081169116146107bb57610000565b6107c3610a79565b9050808211156107d1578091505b60008054604051600160a060020a039091169184156108fc02918591818181858888f19350505050151561080457610000565b60408051838152838303602082015281517f0c875c8d391179c5cf7ad8303d268efd50b8beb78b671f85cd54bfb91eb8ef40929181900390910190a15b5b5050565b6000600454603c01821015610863575066038d7ea4c680006108dd565b60045460780182101561087e57506603e871b540c0006108dd565b60045460b4018210156108995750662aa1efb94e00006108dd565b60045460f0018210156108b45750662e2f6e5e1480006108dd565b60045461012c018210156108d15750670214e8348c4f00006108dd565b50683635c9adc5dea000005b5b5b5b5b5b919050565b66038d7ea4c680005b90565b600160a060020a03331660009081526002602052604081205482111561091857610000565b600160a060020a033316600090815260026020526040902080548390039055600180548390039055670de0b6b3a76400006109516108e7565b830281151561095c57fe5b6040519190049150600160a060020a0333169082156108fc029083906000818181858888f19350505050151561099157610000565b33600160a060020a03167f0db49c84bba47806cd98c426100d458b5859594553fc51f0ce13852e9e1ca1c98230600160a060020a031631856001546109d46108e7565b6040805195865260208601949094528484019290925260608401526080830152519081900360a00190a25b5050565b600160a060020a0381166000908152600260205260409020545b919050565b6000610a2d42610846565b90505b90565b600054600160a060020a031681565b60408051808201909152600481527f4245525000000000000000000000000000000000000000000000000000000000602082015281565b6000600160a060020a0330163181670de0b6b3a7640000610a986108e7565b60015402811515610aa557fe5b04905080821115610aba578082039250610abf565b600092505b5b505090565b600160a060020a033316600090815260026020526040812054829010801590610aee5750600082115b8015610b135750600160a060020a038316600090815260026020526040902054828101115b15610b8757600160a060020a03338116600081815260026020908152604080832080548890039055938716808352918490208054870190558351868152935191937fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef929081900390910190a350600161066c565b50600061066c565b5b92915050565b600160a060020a033016315b90565b600160a060020a038083166000908152600360209081526040808320938516835292905220545b92915050565b60045481565b60005433600160a060020a03908116911614610bf357610000565b60008054604051600160a060020a03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a36000805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0383161790555b5b505600a165627a7a72305820aa4c0ecb71767871d6627366df705a9ad69434154ad59c9bd353cc4a59b97b590029",
    info: {
      abiDefinition: [{...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}],
      compilerOptions: "--combined-json bin,abi,userdoc,devdoc --add-std --optimize",
      compilerVersion: "0.4.9",
      developerDoc: {
        methods: {}
      },
      language: "Solidity",
      languageVersion: "0.4.9",
      source: "pragma solidity ^0.4.8;contract Owned { address public owner; event OwnershipTransferred(address indexed _from, address indexed _to); function Owned() { owner = msg.sender; } modifier onlyOwner { if (msg.sender != owner) throw; _; } function transferOwnership(address newOwner) onlyOwner { OwnershipTransferred(owner, newOwner); owner = newOwner; }}contract ERC20Token is Owned { uint256 _totalSupply = 0; mapping(address => uint256) balances; mapping(address => mapping (address => uint256)) allowed; function totalSupply() constant returns (uint256 totalSupply) { totalSupply = _totalSupply; } function balanceOf(address _owner) constant returns (uint256 balance) { return balances[_owner]; } function transfer(address _to, uint256 _amount) returns (bool success) { if (balances[msg.sender] >= _amount && _amount > 0 && balances[_to] + _amount > balances[_to]) { balances[msg.sender] -= _amount; balances[_to] += _amount; Transfer(msg.sender, _to, _amount); return true; } else { return false; } } function approve( address _spender, uint256 _amount ) returns (bool success) { allowed[msg.sender][_spender] = _amount; Approval(msg.sender, _spender, _amount); return true; } function transferFrom( address _from, address _to, uint256 _amount ) returns (bool success) { if (balances[_from] >= _amount && allowed[_from][msg.sender] >= _amount && _amount > 0 && balances[_to] + _amount > balances[_to]) { balances[_from] -= _amount; allowed[_from][msg.sender] -= _amount; balances[_to] += _amount; Transfer(_from, _to, _amount); return true; } else { return false; } } function allowance( address _owner, address _spender ) constant returns (uint256 remaining) { return allowed[_owner][_spender]; } event Transfer(address indexed _from, address indexed _to, uint256 _value); event Approval(address indexed _owner, address indexed _spender, uint256 _value);}contract BokkyPooBahsEtherRefundablePrize is ERC20Token { string public constant symbol = \"BERP\"; string public constant name = \"BokkyPooBah Ether Refundable Prize\"; uint8 public constant decimals = 18; uint256 public deployedAt; function BokkyPooBahsEtherRefundablePrize() { deployedAt = now; } function buyPrice() constant returns (uint256) { return buyPriceAt(now); } function buyPriceAt(uint256 at) constant returns (uint256) { if (at < (deployedAt + 1 minutes)) { return 10 * 10**14; } else if (at < (deployedAt + 2 minutes)) { return 11 * 10**14; } else if (at < (deployedAt + 3 minutes)) { return 12 * 10**15; } else if (at < (deployedAt + 4 minutes)) { return 13 * 10**15; } else if (at < (deployedAt + 5 minutes)) { return 15 * 10**16; } else { return 10**21; } } function sellPrice() constant returns (uint256) { return 10**15; } function ownerWithdraw(uint256 amount) onlyOwner { uint256 maxWithdrawalAmount = amountOfEthersOwnerCanWithdraw(); if (amount > maxWithdrawalAmount) { amount = maxWithdrawalAmount; } if (!owner.send(amount)) throw; Withdrawn(amount, maxWithdrawalAmount - amount); } event Withdrawn(uint256 amount, uint256 remainingWithdrawal); function () payable { buyTokens(); } function buyTokens() payable { if (msg.value > 0) { uint tokens = msg.value * 1 ether / buyPrice(); _totalSupply += tokens; balances[msg.sender] += tokens; TokensBought(msg.sender, msg.value, this.balance, tokens, _totalSupply, buyPrice()); } } event TokensBought(address indexed buyer, uint256 ethers, uint256 newEtherBalance, uint256 tokens, uint256 newTotalSupply, uint256 buyPrice); function sellTokens(uint256 amountOfTokens) { if (amountOfTokens > balances[msg.sender]) throw; balances[msg.sender] -= amountOfTokens; _totalSupply -= amountOfTokens; uint256 ethersToSend = amountOfTokens * sellPrice() / 1 ether; if (!msg.sender.send(ethersToSend)) throw; TokensSold(msg.sender, ethersToSend, this.balance, amountOfTokens, _totalSupply, sellPrice()); } event TokensSold(address indexed seller, uint256 ethers, uint256 newEtherBalance, uint256 tokens, uint256 newTotalSupply, uint256 sellPrice); function amountOfEthersOwnerCanWithdraw() constant returns (uint256) { uint256 etherBalance = this.balance; uint256 ethersSupportingTokens = _totalSupply * sellPrice() / 1 ether; if (etherBalance > ethersSupportingTokens) { return etherBalance - ethersSupportingTokens; } else { return 0; } } function currentEtherBalance() constant returns (uint256) { return this.balance; } function currentTokenBalance() constant returns (uint256) { return _totalSupply; }}",
      userDoc: {
        methods: {}
      }
    }
  },
  <stdin>:ERC20Token: {
    code: "0x606060405260006001555b60008054600160a060020a03191633600160a060020a03161790555b5b610546806100366000396000f300606060405236156100725763ffffffff60e060020a600035041663095ea7b3811461007457806318160ddd146100a757806323b872dd146100c957806370a08231146101025780638da5cb5b14610130578063a9059cbb1461015c578063dd62ed3e1461018f578063f2fde38b146101c3575bfe5b341561007c57fe5b610093600160a060020a03600435166024356101e1565b604080519115158252519081900360200190f35b34156100af57fe5b6100b761024c565b60408051918252519081900360200190f35b34156100d157fe5b610093600160a060020a0360043581169060243516604435610253565b604080519115158252519081900360200190f35b341561010a57fe5b6100b7600160a060020a036004351661036d565b60408051918252519081900360200190f35b341561013857fe5b61014061038c565b60408051600160a060020a039092168252519081900360200190f35b341561016457fe5b610093600160a060020a036004351660243561039b565b604080519115158252519081900360200190f35b341561019757fe5b6100b7600160a060020a036004358116906024351661046c565b60408051918252519081900360200190f35b34156101cb57fe5b6101df600160a060020a0360043516610499565b005b600160a060020a03338116600081815260036020908152604080832094871680845294825280832086905580518681529051929493927f8c5be1e5ebec7d5bd14f71427d1e84f3dd0314c0f7b2291e5b200ac8c7c3b925929181900390910190a35060015b92915050565b6001545b90565b600160a060020a0383166000908152600260205260408120548290108015906102a35750600160a060020a0380851660009081526003602090815260408083203390941683529290522054829010155b80156102af5750600082115b80156102d45750600160a060020a038316600090815260026020526040902054828101115b1561036157600160a060020a03808516600081815260026020818152604080842080548990039055600382528084203387168552825280842080548990039055948816808452918152918490208054870190558351868152935190937fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef92908290030190a3506001610365565b5060005b5b9392505050565b600160a060020a0381166000908152600260205260409020545b919050565b600054600160a060020a031681565b600160a060020a0333166000908152600260205260408120548290108015906103c45750600082115b80156103e95750600160a060020a038316600090815260026020526040902054828101115b1561045d57600160a060020a03338116600081815260026020908152604080832080548890039055938716808352918490208054870190558351868152935191937fddf252ad1be2c89b69c2b068fc378daa952ba7f163c4a11628f55a4df523b3ef929081900390910190a3506001610246565b506000610246565b5b92915050565b600160a060020a038083166000908152600360209081526040808320938516835292905220545b92915050565b60005433600160a060020a039081169116146104b457610000565b60008054604051600160a060020a03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a36000805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0383161790555b5b505600a165627a7a72305820f07fddccbf3c3cedf94179cadf00e12a4d495a9189cf0a2d7154ddfabdb52e580029",
    info: {
      abiDefinition: [{...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}, {...}],
      compilerOptions: "--combined-json bin,abi,userdoc,devdoc --add-std --optimize",
      compilerVersion: "0.4.9",
      developerDoc: {
        methods: {}
      },
      language: "Solidity",
      languageVersion: "0.4.9",
      source: "pragma solidity ^0.4.8;contract Owned { address public owner; event OwnershipTransferred(address indexed _from, address indexed _to); function Owned() { owner = msg.sender; } modifier onlyOwner { if (msg.sender != owner) throw; _; } function transferOwnership(address newOwner) onlyOwner { OwnershipTransferred(owner, newOwner); owner = newOwner; }}contract ERC20Token is Owned { uint256 _totalSupply = 0; mapping(address => uint256) balances; mapping(address => mapping (address => uint256)) allowed; function totalSupply() constant returns (uint256 totalSupply) { totalSupply = _totalSupply; } function balanceOf(address _owner) constant returns (uint256 balance) { return balances[_owner]; } function transfer(address _to, uint256 _amount) returns (bool success) { if (balances[msg.sender] >= _amount && _amount > 0 && balances[_to] + _amount > balances[_to]) { balances[msg.sender] -= _amount; balances[_to] += _amount; Transfer(msg.sender, _to, _amount); return true; } else { return false; } } function approve( address _spender, uint256 _amount ) returns (bool success) { allowed[msg.sender][_spender] = _amount; Approval(msg.sender, _spender, _amount); return true; } function transferFrom( address _from, address _to, uint256 _amount ) returns (bool success) { if (balances[_from] >= _amount && allowed[_from][msg.sender] >= _amount && _amount > 0 && balances[_to] + _amount > balances[_to]) { balances[_from] -= _amount; allowed[_from][msg.sender] -= _amount; balances[_to] += _amount; Transfer(_from, _to, _amount); return true; } else { return false; } } function allowance( address _owner, address _spender ) constant returns (uint256 remaining) { return allowed[_owner][_spender]; } event Transfer(address indexed _from, address indexed _to, uint256 _value); event Approval(address indexed _owner, address indexed _spender, uint256 _value);}contract BokkyPooBahsEtherRefundablePrize is ERC20Token { string public constant symbol = \"BERP\"; string public constant name = \"BokkyPooBah Ether Refundable Prize\"; uint8 public constant decimals = 18; uint256 public deployedAt; function BokkyPooBahsEtherRefundablePrize() { deployedAt = now; } function buyPrice() constant returns (uint256) { return buyPriceAt(now); } function buyPriceAt(uint256 at) constant returns (uint256) { if (at < (deployedAt + 1 minutes)) { return 10 * 10**14; } else if (at < (deployedAt + 2 minutes)) { return 11 * 10**14; } else if (at < (deployedAt + 3 minutes)) { return 12 * 10**15; } else if (at < (deployedAt + 4 minutes)) { return 13 * 10**15; } else if (at < (deployedAt + 5 minutes)) { return 15 * 10**16; } else { return 10**21; } } function sellPrice() constant returns (uint256) { return 10**15; } function ownerWithdraw(uint256 amount) onlyOwner { uint256 maxWithdrawalAmount = amountOfEthersOwnerCanWithdraw(); if (amount > maxWithdrawalAmount) { amount = maxWithdrawalAmount; } if (!owner.send(amount)) throw; Withdrawn(amount, maxWithdrawalAmount - amount); } event Withdrawn(uint256 amount, uint256 remainingWithdrawal); function () payable { buyTokens(); } function buyTokens() payable { if (msg.value > 0) { uint tokens = msg.value * 1 ether / buyPrice(); _totalSupply += tokens; balances[msg.sender] += tokens; TokensBought(msg.sender, msg.value, this.balance, tokens, _totalSupply, buyPrice()); } } event TokensBought(address indexed buyer, uint256 ethers, uint256 newEtherBalance, uint256 tokens, uint256 newTotalSupply, uint256 buyPrice); function sellTokens(uint256 amountOfTokens) { if (amountOfTokens > balances[msg.sender]) throw; balances[msg.sender] -= amountOfTokens; _totalSupply -= amountOfTokens; uint256 ethersToSend = amountOfTokens * sellPrice() / 1 ether; if (!msg.sender.send(ethersToSend)) throw; TokensSold(msg.sender, ethersToSend, this.balance, amountOfTokens, _totalSupply, sellPrice()); } event TokensSold(address indexed seller, uint256 ethers, uint256 newEtherBalance, uint256 tokens, uint256 newTotalSupply, uint256 sellPrice); function amountOfEthersOwnerCanWithdraw() constant returns (uint256) { uint256 etherBalance = this.balance; uint256 ethersSupportingTokens = _totalSupply * sellPrice() / 1 ether; if (etherBalance > ethersSupportingTokens) { return etherBalance - ethersSupportingTokens; } else { return 0; } } function currentEtherBalance() constant returns (uint256) { return this.balance; } function currentTokenBalance() constant returns (uint256) { return _totalSupply; }}",
      userDoc: {
        methods: {}
      }
    }
  },
  <stdin>:Owned: {
    code: "0x6060604052341561000c57fe5b5b60008054600160a060020a03191633600160a060020a03161790555b5b610128806100396000396000f300606060405263ffffffff60e060020a6000350416638da5cb5b8114602a578063f2fde38b146053575bfe5b3415603157fe5b6037606e565b60408051600160a060020a039092168252519081900360200190f35b3415605a57fe5b606c600160a060020a0360043516607d565b005b600054600160a060020a031681565b60005433600160a060020a039081169116146096576000565b60008054604051600160a060020a03808516939216917f8be0079c531659141344cd1fd0a4f28419497f9722a3daafe3b4186f6b6457e091a36000805473ffffffffffffffffffffffffffffffffffffffff1916600160a060020a0383161790555b5b505600a165627a7a723058202f65ad640e52ba67c9f575442cd94004c5710234fa9ae404760c0f5727dcd6b20029",
    info: {
      abiDefinition: [{...}, {...}, {...}, {...}],
      compilerOptions: "--combined-json bin,abi,userdoc,devdoc --add-std --optimize",
      compilerVersion: "0.4.9",
      developerDoc: {
        methods: {}
      },
      language: "Solidity",
      languageVersion: "0.4.9",
      source: "pragma solidity ^0.4.8;contract Owned { address public owner; event OwnershipTransferred(address indexed _from, address indexed _to); function Owned() { owner = msg.sender; } modifier onlyOwner { if (msg.sender != owner) throw; _; } function transferOwnership(address newOwner) onlyOwner { OwnershipTransferred(owner, newOwner); owner = newOwner; }}contract ERC20Token is Owned { uint256 _totalSupply = 0; mapping(address => uint256) balances; mapping(address => mapping (address => uint256)) allowed; function totalSupply() constant returns (uint256 totalSupply) { totalSupply = _totalSupply; } function balanceOf(address _owner) constant returns (uint256 balance) { return balances[_owner]; } function transfer(address _to, uint256 _amount) returns (bool success) { if (balances[msg.sender] >= _amount && _amount > 0 && balances[_to] + _amount > balances[_to]) { balances[msg.sender] -= _amount; balances[_to] += _amount; Transfer(msg.sender, _to, _amount); return true; } else { return false; } } function approve( address _spender, uint256 _amount ) returns (bool success) { allowed[msg.sender][_spender] = _amount; Approval(msg.sender, _spender, _amount); return true; } function transferFrom( address _from, address _to, uint256 _amount ) returns (bool success) { if (balances[_from] >= _amount && allowed[_from][msg.sender] >= _amount && _amount > 0 && balances[_to] + _amount > balances[_to]) { balances[_from] -= _amount; allowed[_from][msg.sender] -= _amount; balances[_to] += _amount; Transfer(_from, _to, _amount); return true; } else { return false; } } function allowance( address _owner, address _spender ) constant returns (uint256 remaining) { return allowed[_owner][_spender]; } event Transfer(address indexed _from, address indexed _to, uint256 _value); event Approval(address indexed _owner, address indexed _spender, uint256 _value);}contract BokkyPooBahsEtherRefundablePrize is ERC20Token { string public constant symbol = \"BERP\"; string public constant name = \"BokkyPooBah Ether Refundable Prize\"; uint8 public constant decimals = 18; uint256 public deployedAt; function BokkyPooBahsEtherRefundablePrize() { deployedAt = now; } function buyPrice() constant returns (uint256) { return buyPriceAt(now); } function buyPriceAt(uint256 at) constant returns (uint256) { if (at < (deployedAt + 1 minutes)) { return 10 * 10**14; } else if (at < (deployedAt + 2 minutes)) { return 11 * 10**14; } else if (at < (deployedAt + 3 minutes)) { return 12 * 10**15; } else if (at < (deployedAt + 4 minutes)) { return 13 * 10**15; } else if (at < (deployedAt + 5 minutes)) { return 15 * 10**16; } else { return 10**21; } } function sellPrice() constant returns (uint256) { return 10**15; } function ownerWithdraw(uint256 amount) onlyOwner { uint256 maxWithdrawalAmount = amountOfEthersOwnerCanWithdraw(); if (amount > maxWithdrawalAmount) { amount = maxWithdrawalAmount; } if (!owner.send(amount)) throw; Withdrawn(amount, maxWithdrawalAmount - amount); } event Withdrawn(uint256 amount, uint256 remainingWithdrawal); function () payable { buyTokens(); } function buyTokens() payable { if (msg.value > 0) { uint tokens = msg.value * 1 ether / buyPrice(); _totalSupply += tokens; balances[msg.sender] += tokens; TokensBought(msg.sender, msg.value, this.balance, tokens, _totalSupply, buyPrice()); } } event TokensBought(address indexed buyer, uint256 ethers, uint256 newEtherBalance, uint256 tokens, uint256 newTotalSupply, uint256 buyPrice); function sellTokens(uint256 amountOfTokens) { if (amountOfTokens > balances[msg.sender]) throw; balances[msg.sender] -= amountOfTokens; _totalSupply -= amountOfTokens; uint256 ethersToSend = amountOfTokens * sellPrice() / 1 ether; if (!msg.sender.send(ethersToSend)) throw; TokensSold(msg.sender, ethersToSend, this.balance, amountOfTokens, _totalSupply, sellPrice()); } event TokensSold(address indexed seller, uint256 ethers, uint256 newEtherBalance, uint256 tokens, uint256 newTotalSupply, uint256 sellPrice); function amountOfEthersOwnerCanWithdraw() constant returns (uint256) { uint256 etherBalance = this.balance; uint256 ethersSupportingTokens = _totalSupply * sellPrice() / 1 ether; if (etherBalance > ethersSupportingTokens) { return etherBalance - ethersSupportingTokens; } else { return 0; } } function currentEtherBalance() constant returns (uint256) { return this.balance; } function currentTokenBalance() constant returns (uint256) { return _totalSupply; }}",
      userDoc: {
        methods: {}
      }
    }
  }
}
> 
----------^ berpCompiled ^----------
undefined
> 
DATA: tokenABI=[{"constant":true,"inputs":[],"name":"name","outputs":[{"name":"","type":"string"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_spender","type":"address"},{"name":"_amount","type":"uint256"}],"name":"approve","outputs":[{"name":"success","type":"bool"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"totalSupply","outputs":[{"name":"totalSupply","type":"uint256"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_from","type":"address"},{"name":"_to","type":"address"},{"name":"_amount","type":"uint256"}],"name":"transferFrom","outputs":[{"name":"success","type":"bool"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"currentTokenBalance","outputs":[{"name":"","type":"uint256"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"decimals","outputs":[{"name":"","type":"uint8"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"amount","type":"uint256"}],"name":"ownerWithdraw","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"at","type":"uint256"}],"name":"buyPriceAt","outputs":[{"name":"","type":"uint256"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"sellPrice","outputs":[{"name":"","type":"uint256"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"amountOfTokens","type":"uint256"}],"name":"sellTokens","outputs":[],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"}],"name":"balanceOf","outputs":[{"name":"balance","type":"uint256"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"buyPrice","outputs":[{"name":"","type":"uint256"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"owner","outputs":[{"name":"","type":"address"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"symbol","outputs":[{"name":"","type":"string"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"amountOfEthersOwnerCanWithdraw","outputs":[{"name":"","type":"uint256"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"_to","type":"address"},{"name":"_amount","type":"uint256"}],"name":"transfer","outputs":[{"name":"success","type":"bool"}],"payable":false,"type":"function"},{"constant":false,"inputs":[],"name":"buyTokens","outputs":[],"payable":true,"type":"function"},{"constant":true,"inputs":[],"name":"currentEtherBalance","outputs":[{"name":"","type":"uint256"}],"payable":false,"type":"function"},{"constant":true,"inputs":[{"name":"_owner","type":"address"},{"name":"_spender","type":"address"}],"name":"allowance","outputs":[{"name":"remaining","type":"uint256"}],"payable":false,"type":"function"},{"constant":true,"inputs":[],"name":"deployedAt","outputs":[{"name":"","type":"uint256"}],"payable":false,"type":"function"},{"constant":false,"inputs":[{"name":"newOwner","type":"address"}],"name":"transferOwnership","outputs":[],"payable":false,"type":"function"},{"inputs":[],"payable":false,"type":"constructor"},{"payable":true,"type":"fallback"},{"anonymous":false,"inputs":[{"indexed":false,"name":"amount","type":"uint256"},{"indexed":false,"name":"remainingWithdrawal","type":"uint256"}],"name":"Withdrawn","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"buyer","type":"address"},{"indexed":false,"name":"ethers","type":"uint256"},{"indexed":false,"name":"newEtherBalance","type":"uint256"},{"indexed":false,"name":"tokens","type":"uint256"},{"indexed":false,"name":"newTotalSupply","type":"uint256"},{"indexed":false,"name":"buyPrice","type":"uint256"}],"name":"TokensBought","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"seller","type":"address"},{"indexed":false,"name":"ethers","type":"uint256"},{"indexed":false,"name":"newEtherBalance","type":"uint256"},{"indexed":false,"name":"tokens","type":"uint256"},{"indexed":false,"name":"newTotalSupply","type":"uint256"},{"indexed":false,"name":"sellPrice","type":"uint256"}],"name":"TokensSold","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_from","type":"address"},{"indexed":true,"name":"_to","type":"address"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Transfer","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_owner","type":"address"},{"indexed":true,"name":"_spender","type":"address"},{"indexed":false,"name":"_value","type":"uint256"}],"name":"Approval","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"name":"_from","type":"address"},{"indexed":true,"name":"_to","type":"address"}],"name":"OwnershipTransferred","type":"event"}]
undefined
> 
> 
undefined
> 
undefined
> 
RESULT: Test 1.1 Deploy BERP Contract
undefined
> 
undefined
> 
undefined
> 
...... 
... 
...... 
......... 
............ 
............ 
............ 
............ 
............ 
............ 
............ 
............ 
......... 
...... 
... 
berpTx=0x9b4832ecb6266b8d2411dcd35e0007f9493915fc5a2487b3a8873c26c026d2ec
undefined
> 
... 
undefined
> 
RESULT: berpAddress=0xebb2634dd3194ba6d75eeb049cd0f73bf9801d95 gas=4000000 gasUsed=954004 cost=0.01908008 block=48 txId=0x9b4832ecb6266b8d2411dcd35e0007f9493915fc5a2487b3a8873c26c026d2ec
RESULT: # Account                                                   EtherBalance                TokenBalance Name
RESULT: 1 0x000d1009bd8f0b1301cc5edc28ed1222a3ce671e   100240.019080080000000000        0.000000000000000000 Account #0 - Miner
RESULT: 2 0x0014060ff383c9b21c6840a3b14aab06741e5c49    99999.980919920000000000        0.000000000000000000 Account #1 - BERP Owner
RESULT: 3 0x0020017ba4c67f76c76b1af8c41821ee54f37171   100000.000000000000000000        0.000000000000000000 Account #2 - Member #1
RESULT: 4 0x0036f6addb6d64684390f55a92f0f4988266901b   100000.000000000000000000        0.000000000000000000 Account #3 - Member #2
RESULT: 5 0x004e64833635cd1056b948b57286b7c91e62731c   100000.000000000000000000        0.000000000000000000 Account #4 - Member #3
RESULT: 6 0x0055fbc1ada89056088c75eaf50400af6756ae61   100000.000000000000000000        0.000000000000000000 Account #5 - Member #4
RESULT: 7 0x006b2baf3000413d83d257086fd3434a109aa552   100000.000000000000000000        0.000000000000000000 Account #6 - Member #5
RESULT: 8 0xebb2634dd3194ba6d75eeb049cd0f73bf9801d95        0.000000000000000000        0.000000000000000000 BERP
undefined
> 
RESULT: contract.deployedAt=1491787351 Mon, 10 Apr 2017 11:22:31 AEST
RESULT: contract.symbol=BERP
RESULT: contract.name=BokkyPooBah Ether Refundable Prize
RESULT: contract.decimals=18
undefined
> 
RESULT: contract.buyPrice=0.001 ETH per BERP
RESULT: contract.sellPrice=0.001 ETH per BERP
RESULT: contract.totalSupply=0
RESULT: contract.currentEtherBalance=0
RESULT: contract.currentTokenBalance=0
RESULT: contract.amountOfEthersOwnerCanWithdraw=0
undefined
> 
RESULT: PASS Test 1.1 Deploy BERP Contract
1
> 
RESULT:   CHECK 1. BERP Owner pays a little gas
undefined
> 
RESULT:   CHECK 2. buyPrice at Mon 10 Apr 2017 01:22:14 UTC is 0.001
undefined
> 
RESULT:   CHECK 3. buyPrice at Mon 10 Apr 2017 01:23:14 UTC is 0.001
undefined
> 
RESULT:   CHECK 4. buyPrice at Mon 10 Apr 2017 01:24:14 UTC is 0.0011
undefined
> 
RESULT:   CHECK 5. buyPrice at Mon 10 Apr 2017 01:25:14 UTC is 0.012
undefined
> 
RESULT:   CHECK 6. buyPrice at Mon 10 Apr 2017 01:26:14 UTC is 0.013
undefined
> 
RESULT:   CHECK 7. buyPrice at Mon 10 Apr 2017 01:27:14 UTC is 0.15
undefined
> 
RESULT:   CHECK 8. buyPrice at Mon 10 Apr 2017 01:28:14 UTC is 1000
undefined
> 
RESULT: 
undefined
> 
> 
undefined
> 
"Test 1.2 Member1 buys tokens in first period when 1 BERP = 0.001 ETH"
> 
RESULT: Test 1.2 Member1 buys tokens in first period when 1 BERP = 0.001 ETH
undefined
> 
undefined
> 
... 
undefined
> 
RESULT: # Account                                                   EtherBalance                TokenBalance Name
RESULT: 1 0x000d1009bd8f0b1301cc5edc28ed1222a3ce671e   100250.020381380000000000        0.000000000000000000 Account #0 - Miner
RESULT: 2 0x0014060ff383c9b21c6840a3b14aab06741e5c49    99999.980919920000000000        0.000000000000000000 Account #1 - BERP Owner
RESULT: 3 0x0020017ba4c67f76c76b1af8c41821ee54f37171    99987.458698700000000000    12540.000000000000000000 Account #2 - Member #1
RESULT: 4 0x0036f6addb6d64684390f55a92f0f4988266901b   100000.000000000000000000        0.000000000000000000 Account #3 - Member #2
RESULT: 5 0x004e64833635cd1056b948b57286b7c91e62731c   100000.000000000000000000        0.000000000000000000 Account #4 - Member #3
RESULT: 6 0x0055fbc1ada89056088c75eaf50400af6756ae61   100000.000000000000000000        0.000000000000000000 Account #5 - Member #4
RESULT: 7 0x006b2baf3000413d83d257086fd3434a109aa552   100000.000000000000000000        0.000000000000000000 Account #6 - Member #5
RESULT: 8 0xebb2634dd3194ba6d75eeb049cd0f73bf9801d95       12.540000000000000000        0.000000000000000000 BERP
undefined
> 
RESULT: contract.buyPrice=0.001 ETH per BERP
RESULT: contract.sellPrice=0.001 ETH per BERP
RESULT: contract.totalSupply=12540
RESULT: contract.currentEtherBalance=12.54
RESULT: contract.currentTokenBalance=12540
RESULT: contract.amountOfEthersOwnerCanWithdraw=0
RESULT: TokensBought Event 0: buyer 0x0020017ba4c67f76c76b1af8c41821ee54f37171 ethers 12.54 newEtherBalance 12.54 tokens 12540 newTotalSupply 12540 buyPrice 0.001 block 50
undefined
> 
RESULT: tx12 gas=4500000 gasUsed=65065 cost=0.0013013 block=50 txId=0x14ec50ca09b17ea336c88c7e6eaada44f24e9fb26ff6ca8e24ae502275363c41
undefined
> 
RESULT: PASS Test 1.2 Member1 buys tokens in first period when 1 BERP = 0.001 ETH
1
> 
RESULT:   CHECK 1. Member1 ether balance -12.54 ETH
undefined
> 
RESULT:   CHECK 2. Member1 token balance +12,540 BERP
undefined
> 
RESULT:   CHECK 3. BERP contract ether balance +12.54 ETH
undefined
> 
RESULT: 
undefined
> 
> 
> 
undefined
> 
"Test 1.3 Member1 transfers 12,540 BERP to member2"
> 
RESULT: Test 1.3 Member1 transfers 12,540 BERP to member2
undefined
> 
undefined
> 
undefined
> 
... 
undefined
> 
RESULT: # Account                                                   EtherBalance                TokenBalance Name
RESULT: 1 0x000d1009bd8f0b1301cc5edc28ed1222a3ce671e   100260.021109160000000000        0.000000000000000000 Account #0 - Miner
RESULT: 2 0x0014060ff383c9b21c6840a3b14aab06741e5c49    99999.980919920000000000        0.000000000000000000 Account #1 - BERP Owner
RESULT: 3 0x0020017ba4c67f76c76b1af8c41821ee54f37171    99987.457970920000000000        0.000000000000000000 Account #2 - Member #1
RESULT: 4 0x0036f6addb6d64684390f55a92f0f4988266901b   100000.000000000000000000    12540.000000000000000000 Account #3 - Member #2
RESULT: 5 0x004e64833635cd1056b948b57286b7c91e62731c   100000.000000000000000000        0.000000000000000000 Account #4 - Member #3
RESULT: 6 0x0055fbc1ada89056088c75eaf50400af6756ae61   100000.000000000000000000        0.000000000000000000 Account #5 - Member #4
RESULT: 7 0x006b2baf3000413d83d257086fd3434a109aa552   100000.000000000000000000        0.000000000000000000 Account #6 - Member #5
RESULT: 8 0xebb2634dd3194ba6d75eeb049cd0f73bf9801d95       12.540000000000000000        0.000000000000000000 BERP
undefined
> 
RESULT: contract.buyPrice=0.001 ETH per BERP
RESULT: contract.sellPrice=0.001 ETH per BERP
RESULT: contract.totalSupply=12540
RESULT: contract.currentEtherBalance=12.54
RESULT: contract.currentTokenBalance=12540
RESULT: contract.amountOfEthersOwnerCanWithdraw=0
RESULT: Transfer Event 0: from 0x0020017ba4c67f76c76b1af8c41821ee54f37171 to 0x0036f6addb6d64684390f55a92f0f4988266901b 12540 block 52
RESULT: TokensBought Event 0: buyer 0x0020017ba4c67f76c76b1af8c41821ee54f37171 ethers 12.54 newEtherBalance 12.54 tokens 12540 newTotalSupply 12540 buyPrice 0.001 block 50
undefined
> 
RESULT: tx13 gas=4500000 gasUsed=36389 cost=0.00072778 block=52 txId=0x8818a875b8a178bd22031b57a87c4b26c8fea4520a217de5d142c7e08ae0b7bc
undefined
> 
RESULT: PASS Test 1.3 Member1 transfers 12,540 BERP to member2
1
> 
RESULT:   CHECK 1. Member1 token balance -12,540 BERP
undefined
> 
RESULT:   CHECK 2. Member2 token balance +12,540 BERP
undefined
> 
RESULT: 
undefined
> 
> 
> 
undefined
> 
"Test 1.4 Member2 sells tokens in first period when 1 BERP = 0.001 ETH"
> 
RESULT: Test 1.4 Member2 sells tokens in first period when 1 BERP = 0.001 ETH
undefined
> 
undefined
> 
undefined
> 
... 
undefined
> 
RESULT: # Account                                                   EtherBalance                TokenBalance Name
RESULT: 1 0x000d1009bd8f0b1301cc5edc28ed1222a3ce671e   100270.021532580000000000        0.000000000000000000 Account #0 - Miner
RESULT: 2 0x0014060ff383c9b21c6840a3b14aab06741e5c49    99999.980919920000000000        0.000000000000000000 Account #1 - BERP Owner
RESULT: 3 0x0020017ba4c67f76c76b1af8c41821ee54f37171    99987.457970920000000000        0.000000000000000000 Account #2 - Member #1
RESULT: 4 0x0036f6addb6d64684390f55a92f0f4988266901b   100012.539576580000000000        0.000000000000000000 Account #3 - Member #2
RESULT: 5 0x004e64833635cd1056b948b57286b7c91e62731c   100000.000000000000000000        0.000000000000000000 Account #4 - Member #3
RESULT: 6 0x0055fbc1ada89056088c75eaf50400af6756ae61   100000.000000000000000000        0.000000000000000000 Account #5 - Member #4
RESULT: 7 0x006b2baf3000413d83d257086fd3434a109aa552   100000.000000000000000000        0.000000000000000000 Account #6 - Member #5
RESULT: 8 0xebb2634dd3194ba6d75eeb049cd0f73bf9801d95        0.000000000000000000        0.000000000000000000 BERP
undefined
> 
RESULT: contract.buyPrice=0.001 ETH per BERP
RESULT: contract.sellPrice=0.001 ETH per BERP
RESULT: contract.totalSupply=0
RESULT: contract.currentEtherBalance=0
RESULT: contract.currentTokenBalance=0
RESULT: contract.amountOfEthersOwnerCanWithdraw=0
RESULT: Transfer Event 0: from 0x0020017ba4c67f76c76b1af8c41821ee54f37171 to 0x0036f6addb6d64684390f55a92f0f4988266901b 12540 block 52
RESULT: TokensBought Event 0: buyer 0x0020017ba4c67f76c76b1af8c41821ee54f37171 ethers 12.54 newEtherBalance 12.54 tokens 12540 newTotalSupply 12540 buyPrice 0.001 block 50
RESULT: TokensSold Event 0: seller 0x0036f6addb6d64684390f55a92f0f4988266901b ethers 12.54 newEtherBalance 0 tokens 12540 newTotalSupply 0 sellPrice 0.001 block 54
undefined
> 
RESULT: tx14 gas=4500000 gasUsed=21171 cost=0.00042342 block=54 txId=0x34ff1c59bb0ed788c12086b15f75150fe9d1f118b2c1de646f2807571662320d
undefined
> 
RESULT: PASS Test 1.4 Member2 sells tokens in first period when 1 BERP = 0.001 ETH
1
> 
RESULT:   CHECK 1. Member2 token balance 0 BERP
undefined
> 
RESULT:   CHECK 2. BERP contract ether balance 0 ETH
undefined
> 
RESULT:   CHECK 2. contract.amountOfEthersOwnerCanWithdraw 0 ETH
undefined
> 
RESULT: 
undefined
> 
> 
> 
undefined
> 
"Test 2.1 Member3 buys tokens in the second period when 1 BERP = 0.0011 ETH"
> 
RESULT: Test 2.1 Member3 buys tokens in the second period when 1 BERP = 0.0011 ETH
undefined
> 
undefined
> 
RESULT: Waiting until after 1491787411000 Mon, 10 Apr 2017 11:23:31 AEST currentDate=Mon, 10 Apr 2017 11:23:00 AEST
undefined
> 
... 
undefined
> 
RESULT: Waited until after 1491787411000 Mon, 10 Apr 2017 11:23:31 AEST currentDate=Mon, 10 Apr 2017 11:23:31 AEST
undefined
> 
undefined
> 
... 
undefined
> 
RESULT: # Account                                                   EtherBalance                TokenBalance Name
RESULT: 1 0x000d1009bd8f0b1301cc5edc28ed1222a3ce671e   100305.022823660000000000        0.000000000000000000 Account #0 - Miner
RESULT: 2 0x0014060ff383c9b21c6840a3b14aab06741e5c49    99999.980919920000000000        0.000000000000000000 Account #1 - BERP Owner
RESULT: 3 0x0020017ba4c67f76c76b1af8c41821ee54f37171    99987.457970920000000000        0.000000000000000000 Account #2 - Member #1
RESULT: 4 0x0036f6addb6d64684390f55a92f0f4988266901b   100012.539576580000000000        0.000000000000000000 Account #3 - Member #2
RESULT: 5 0x004e64833635cd1056b948b57286b7c91e62731c    99899.998708920000000000    90909.090909090909090909 Account #4 - Member #3
RESULT: 6 0x0055fbc1ada89056088c75eaf50400af6756ae61   100000.000000000000000000        0.000000000000000000 Account #5 - Member #4
RESULT: 7 0x006b2baf3000413d83d257086fd3434a109aa552   100000.000000000000000000        0.000000000000000000 Account #6 - Member #5
RESULT: 8 0xebb2634dd3194ba6d75eeb049cd0f73bf9801d95      100.000000000000000000        0.000000000000000000 BERP
undefined
> 
RESULT: contract.buyPrice=0.0011 ETH per BERP
RESULT: contract.sellPrice=0.001 ETH per BERP
RESULT: contract.totalSupply=90909.090909090909090909
RESULT: contract.currentEtherBalance=100
RESULT: contract.currentTokenBalance=90909.090909090909090909
RESULT: contract.amountOfEthersOwnerCanWithdraw=9.09090909090909091
RESULT: Transfer Event 0: from 0x0020017ba4c67f76c76b1af8c41821ee54f37171 to 0x0036f6addb6d64684390f55a92f0f4988266901b 12540 block 52
RESULT: TokensBought Event 0: buyer 0x0020017ba4c67f76c76b1af8c41821ee54f37171 ethers 12.54 newEtherBalance 12.54 tokens 12540 newTotalSupply 12540 buyPrice 0.001 block 50
RESULT: TokensBought Event 1: buyer 0x004e64833635cd1056b948b57286b7c91e62731c ethers 100 newEtherBalance 100 tokens 90909.090909090909090909 newTotalSupply 90909.090909090909090909 buyPrice 0.0011 block 61
RESULT: TokensSold Event 0: seller 0x0036f6addb6d64684390f55a92f0f4988266901b ethers 12.54 newEtherBalance 0 tokens 12540 newTotalSupply 0 sellPrice 0.001 block 54
undefined
> 
RESULT: tx21 gas=400000 gasUsed=64554 cost=0.00129108 block=61 txId=0x33bca73dacd341f7454d6fc7ddd177e9ece2718aac9d54eaee3bc09fd7056d8d
undefined
> 
RESULT: PASS Test 2.1 Member3 buys tokens in the second period when 1 BERP = 0.0011 ETH
1
> 
RESULT:   CHECK 1. Member3 ether balance -100 ETH
undefined
> 
RESULT:   CHECK 2. Member3 token balance +90,909.09 BERP
undefined
> 
RESULT:   CHECK 3. BERP contract ether balance +100 ETH
undefined
> 
RESULT:   CHECK 2. contract.amountOfEthersOwnerCanWithdraw 9.0909 ETH
undefined
> 
RESULT: 
undefined
> 
> 
> 
undefined
> 
"Test 2.2 Member3 approves a transfer of 2000 BERP to member2"
> 
RESULT: Test 2.2 Member3 approves a transfer of 2000 BERP to member2
undefined
> 
undefined
> 
undefined
> 
... 
undefined
> 
RESULT: # Account                                                   EtherBalance                TokenBalance Name
RESULT: 1 0x000d1009bd8f0b1301cc5edc28ed1222a3ce671e   100315.023733480000000000        0.000000000000000000 Account #0 - Miner
RESULT: 2 0x0014060ff383c9b21c6840a3b14aab06741e5c49    99999.980919920000000000        0.000000000000000000 Account #1 - BERP Owner
RESULT: 3 0x0020017ba4c67f76c76b1af8c41821ee54f37171    99987.457970920000000000        0.000000000000000000 Account #2 - Member #1
RESULT: 4 0x0036f6addb6d64684390f55a92f0f4988266901b   100012.539576580000000000        0.000000000000000000 Account #3 - Member #2
RESULT: 5 0x004e64833635cd1056b948b57286b7c91e62731c    99899.997799100000000000    90909.090909090909090909 Account #4 - Member #3
RESULT: 6 0x0055fbc1ada89056088c75eaf50400af6756ae61   100000.000000000000000000        0.000000000000000000 Account #5 - Member #4
RESULT: 7 0x006b2baf3000413d83d257086fd3434a109aa552   100000.000000000000000000        0.000000000000000000 Account #6 - Member #5
RESULT: 8 0xebb2634dd3194ba6d75eeb049cd0f73bf9801d95      100.000000000000000000        0.000000000000000000 BERP
undefined
> 
RESULT: contract.buyPrice=0.0011 ETH per BERP
RESULT: contract.sellPrice=0.001 ETH per BERP
RESULT: contract.totalSupply=90909.090909090909090909
RESULT: contract.currentEtherBalance=100
RESULT: contract.currentTokenBalance=90909.090909090909090909
RESULT: contract.amountOfEthersOwnerCanWithdraw=9.09090909090909091
RESULT: Transfer Event 0: from 0x0020017ba4c67f76c76b1af8c41821ee54f37171 to 0x0036f6addb6d64684390f55a92f0f4988266901b 12540 block 52
RESULT: Approval Event 0: owner 0x004e64833635cd1056b948b57286b7c91e62731c spender 0x0036f6addb6d64684390f55a92f0f4988266901b 2000 block 63
RESULT: TokensBought Event 0: buyer 0x0020017ba4c67f76c76b1af8c41821ee54f37171 ethers 12.54 newEtherBalance 12.54 tokens 12540 newTotalSupply 12540 buyPrice 0.001 block 50
RESULT: TokensBought Event 1: buyer 0x004e64833635cd1056b948b57286b7c91e62731c ethers 100 newEtherBalance 100 tokens 90909.090909090909090909 newTotalSupply 90909.090909090909090909 buyPrice 0.0011 block 61
RESULT: TokensSold Event 0: seller 0x0036f6addb6d64684390f55a92f0f4988266901b ethers 12.54 newEtherBalance 0 tokens 12540 newTotalSupply 0 sellPrice 0.001 block 54
undefined
> 
RESULT: tx22 gas=4500000 gasUsed=45491 cost=0.00090982 block=63 txId=0xb9d944e197a040f3838c3ea6532c7c1b2ceac9e872bc5cf22d35f29415177df5
undefined
> 
RESULT: PASS Test 2.2 Member3 approves a transfer of 2000 BERP to member2
1
> 
RESULT:   CHECK 1. Approval event generated for 2000 BERP
undefined
> 
RESULT: 
undefined
> 
> 
> 
undefined
> 
"Test 2.3 Member2 transfer 1,000 BERP from member3"
> 
RESULT: Test 2.3 Member2 transfer 1,000 BERP from member3
undefined
> 
undefined
> 
undefined
> 
... 
undefined
> 
RESULT: # Account                                                   EtherBalance                TokenBalance Name
RESULT: 1 0x000d1009bd8f0b1301cc5edc28ed1222a3ce671e   100325.024891260000000000        0.000000000000000000 Account #0 - Miner
RESULT: 2 0x0014060ff383c9b21c6840a3b14aab06741e5c49    99999.980919920000000000        0.000000000000000000 Account #1 - BERP Owner
RESULT: 3 0x0020017ba4c67f76c76b1af8c41821ee54f37171    99987.457970920000000000        0.000000000000000000 Account #2 - Member #1
RESULT: 4 0x0036f6addb6d64684390f55a92f0f4988266901b   100012.538418800000000000     1000.000000000000000000 Account #3 - Member #2
RESULT: 5 0x004e64833635cd1056b948b57286b7c91e62731c    99899.997799100000000000    89909.090909090909090909 Account #4 - Member #3
RESULT: 6 0x0055fbc1ada89056088c75eaf50400af6756ae61   100000.000000000000000000        0.000000000000000000 Account #5 - Member #4
RESULT: 7 0x006b2baf3000413d83d257086fd3434a109aa552   100000.000000000000000000        0.000000000000000000 Account #6 - Member #5
RESULT: 8 0xebb2634dd3194ba6d75eeb049cd0f73bf9801d95      100.000000000000000000        0.000000000000000000 BERP
undefined
> 
RESULT: contract.buyPrice=0.0011 ETH per BERP
RESULT: contract.sellPrice=0.001 ETH per BERP
RESULT: contract.totalSupply=90909.090909090909090909
RESULT: contract.currentEtherBalance=100
RESULT: contract.currentTokenBalance=90909.090909090909090909
RESULT: contract.amountOfEthersOwnerCanWithdraw=9.09090909090909091
RESULT: Transfer Event 0: from 0x0020017ba4c67f76c76b1af8c41821ee54f37171 to 0x0036f6addb6d64684390f55a92f0f4988266901b 12540 block 52
RESULT: Transfer Event 1: from 0x004e64833635cd1056b948b57286b7c91e62731c to 0x0036f6addb6d64684390f55a92f0f4988266901b 1000 block 65
RESULT: Approval Event 0: owner 0x004e64833635cd1056b948b57286b7c91e62731c spender 0x0036f6addb6d64684390f55a92f0f4988266901b 2000 block 63
RESULT: TokensBought Event 0: buyer 0x0020017ba4c67f76c76b1af8c41821ee54f37171 ethers 12.54 newEtherBalance 12.54 tokens 12540 newTotalSupply 12540 buyPrice 0.001 block 50
RESULT: TokensBought Event 1: buyer 0x004e64833635cd1056b948b57286b7c91e62731c ethers 100 newEtherBalance 100 tokens 90909.090909090909090909 newTotalSupply 90909.090909090909090909 buyPrice 0.0011 block 61
RESULT: TokensSold Event 0: seller 0x0036f6addb6d64684390f55a92f0f4988266901b ethers 12.54 newEtherBalance 0 tokens 12540 newTotalSupply 0 sellPrice 0.001 block 54
undefined
> 
RESULT: tx23 gas=4500000 gasUsed=57889 cost=0.00115778 block=65 txId=0x5ccbcb439613a52105c5917e1c3a5e692e3db836ea0989d5a35c78d010b2b74a
undefined
> 
RESULT: PASS Test 2.3 Member2 transfer 1,000 BERP from member3
1
> 
RESULT:   CHECK 1. Member2 ether balance +1,000 ETH
undefined
> 
RESULT:   CHECK 2. Member3 token balance -1,000 BERP
undefined
> 
RESULT: 
undefined
> 
> 
> 
undefined
> 
"Test 2.4 Member2 transfer 100,000 BERP from member3 - unsuccessful"
> 
RESULT: Test 2.4 Member2 transfer 100,000 BERP from member3 - unsuccessful
undefined
> 
undefined
> 
undefined
> 
... 
undefined
> 
RESULT: # Account                                                   EtherBalance                TokenBalance Name
RESULT: 1 0x000d1009bd8f0b1301cc5edc28ed1222a3ce671e   100345.025395040000000000        0.000000000000000000 Account #0 - Miner
RESULT: 2 0x0014060ff383c9b21c6840a3b14aab06741e5c49    99999.980919920000000000        0.000000000000000000 Account #1 - BERP Owner
RESULT: 3 0x0020017ba4c67f76c76b1af8c41821ee54f37171    99987.457970920000000000        0.000000000000000000 Account #2 - Member #1
RESULT: 4 0x0036f6addb6d64684390f55a92f0f4988266901b   100012.537915020000000000     1000.000000000000000000 Account #3 - Member #2
RESULT: 5 0x004e64833635cd1056b948b57286b7c91e62731c    99899.997799100000000000    89909.090909090909090909 Account #4 - Member #3
RESULT: 6 0x0055fbc1ada89056088c75eaf50400af6756ae61   100000.000000000000000000        0.000000000000000000 Account #5 - Member #4
RESULT: 7 0x006b2baf3000413d83d257086fd3434a109aa552   100000.000000000000000000        0.000000000000000000 Account #6 - Member #5
RESULT: 8 0xebb2634dd3194ba6d75eeb049cd0f73bf9801d95      100.000000000000000000        0.000000000000000000 BERP
undefined
> 
RESULT: contract.buyPrice=0.0011 ETH per BERP
RESULT: contract.sellPrice=0.001 ETH per BERP
RESULT: contract.totalSupply=90909.090909090909090909
RESULT: contract.currentEtherBalance=100
RESULT: contract.currentTokenBalance=90909.090909090909090909
RESULT: contract.amountOfEthersOwnerCanWithdraw=9.09090909090909091
RESULT: Transfer Event 0: from 0x0020017ba4c67f76c76b1af8c41821ee54f37171 to 0x0036f6addb6d64684390f55a92f0f4988266901b 12540 block 52
RESULT: Transfer Event 1: from 0x004e64833635cd1056b948b57286b7c91e62731c to 0x0036f6addb6d64684390f55a92f0f4988266901b 1000 block 65
RESULT: Approval Event 0: owner 0x004e64833635cd1056b948b57286b7c91e62731c spender 0x0036f6addb6d64684390f55a92f0f4988266901b 2000 block 63
RESULT: TokensBought Event 0: buyer 0x0020017ba4c67f76c76b1af8c41821ee54f37171 ethers 12.54 newEtherBalance 12.54 tokens 12540 newTotalSupply 12540 buyPrice 0.001 block 50
RESULT: TokensBought Event 1: buyer 0x004e64833635cd1056b948b57286b7c91e62731c ethers 100 newEtherBalance 100 tokens 90909.090909090909090909 newTotalSupply 90909.090909090909090909 buyPrice 0.0011 block 61
RESULT: TokensSold Event 0: seller 0x0036f6addb6d64684390f55a92f0f4988266901b ethers 12.54 newEtherBalance 0 tokens 12540 newTotalSupply 0 sellPrice 0.001 block 54
undefined
> 
RESULT: tx24 gas=4500000 gasUsed=25189 cost=0.00050378 block=69 txId=0x097992efc7020aaf4e8af69e840164d7af5e1076d2863575c202b3d69b8215f6
undefined
> 
RESULT: PASS Test 2.4 Member2 transfer 100,000 BERP from member3 - unsuccessful
1
> 
RESULT:   CHECK 1. IMPORTANT - No changes
undefined
> 
RESULT: 
undefined
> 
> 
